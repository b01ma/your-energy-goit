var de=Object.defineProperty;var X=e=>{throw TypeError(e)};var ue=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var V=(e,t,n)=>ue(e,typeof t!="symbol"?t+"":t,n),me=(e,t,n)=>t.has(e)||X("Cannot "+n);var Y=(e,t,n)=>t.has(e)?X("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var I=(e,t,n)=>(me(e,t,"access private method"),n);import{a as J,i as M,l as H}from"./vendor-CypzKZfR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const ge=()=>{const e=document.querySelector("#mobile-menu-btn"),t=document.querySelector("#header-mobile-menu"),n=document.querySelector(".header-nav"),s=document.querySelector(".header-socials"),r=t.querySelectorAll(".header-socials-link"),i=globalThis.matchMedia("(max-width: 768px)");function a(){e.setAttribute("aria-expanded","true"),t.dataset.expanded="true"}function o(){e.setAttribute("aria-expanded","false"),t.dataset.expanded="false"}function l(){e.classList.remove("visually-hidden"),n.classList.add("visually-hidden"),s.classList.add("visually-hidden")}function c(){e.classList.add("visually-hidden"),n.classList.remove("visually-hidden"),s.classList.remove("visually-hidden"),o()}function d(){var p,x,y,_;const g=globalThis.location.pathname.includes("favorites");(p=document.querySelector("#nav-desktop-home"))==null||p.classList.toggle("nav-active",!g),(x=document.querySelector("#nav-desktop-favorites"))==null||x.classList.toggle("nav-active",g),(y=document.querySelector("#nav-mobile-home"))==null||y.classList.toggle("nav-active",!g),(_=document.querySelector("#nav-mobile-favorites"))==null||_.classList.toggle("nav-active",g)}function u(g){g.matches?l():c()}e.addEventListener("click",()=>{e.getAttribute("aria-expanded")==="true"?o():a()}),r.forEach(g=>{g.addEventListener("click",o)}),document.addEventListener("keydown",g=>{g.key==="Escape"&&t.getAttribute("aria-expanded")==="true"&&o()}),document.addEventListener("DOMContentLoaded",()=>{d()}),u(i),i.addEventListener("change",u)};var v,ne,P,D;class pe{constructor(t){Y(this,v);V(this,"PAGE_DEFAULT",1);V(this,"LIMIT_DEFAULT",10);this.client=J.create({baseURL:t,headers:{"Content-Type":"application/json"}})}async getExercisesByFilters(t={}){const{page:n,limit:s,...r}=t,i={...I(this,v,ne).call(this,r),page:I(this,v,D).call(this,n,this.PAGE_DEFAULT),limit:I(this,v,D).call(this,s,this.LIMIT_DEFAULT)};try{return(await this.client.get("exercises",{params:i})).data}catch(a){throw new Error(a.response.data.message)}}async getExercisesById(t=""){if(!I(this,v,P).call(this,t))return{};try{return(await this.client.get(`exercises/${t}`)).data}catch(s){throw new Error(s.response.data.message)}}async getFiltersOfExercises(t={}){const{filter:n,page:s,limit:r}=t,i={filter:I(this,v,P).call(this,n),page:I(this,v,D).call(this,s,this.PAGE_DEFAULT),limit:I(this,v,D).call(this,r,this.LIMIT_DEFAULT)};try{return(await this.client.get("filters",{params:i})).data}catch(a){throw new Error(a.response.data.message)}}async getQuote(){return(await this.client.get("quote")).data}async subscribe(t=""){try{return(await this.client.post("subscription",{email:t})).data}catch(n){throw new Error(n.response.data.message)}}async addRating(t,n={}){try{return(await this.client.patch(`exercises/${t}/rating`,n)).data}catch(s){throw new Error(s.response.data.message)}}}v=new WeakSet,ne=function(t={}){return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,I(this,v,P).call(this,s)]).filter(([n,s])=>s!==void 0))},P=function(t=""){if(typeof t!="string")return;const n=t.trim();return n.length?n:void 0},D=function(t,n){const s=Number(t);return Number.isFinite(s)?s:n};const B=new pe("https://your-energy.b.goit.study/api/"),fe=()=>{const e="A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.",t="Tom Brady";document.addEventListener("DOMContentLoaded",async()=>{const n=new Date().toISOString().slice(0,10),s=JSON.parse(localStorage.getItem("dailyQuote"));if(s&&s.date===n){document.getElementById("quote-text").textContent=s.quote,document.getElementById("quote-author").textContent=s.author;return}try{const{quote:r,author:i}=await B.getQuote();document.getElementById("quote-text").textContent=r,document.getElementById("quote-author").textContent=i,localStorage.setItem("dailyQuote",JSON.stringify({quote:r,author:i,date:n}))}catch(r){console.error("Error loading quote:",r),document.getElementById("quote-text").textContent=e,document.getElementById("quote-author").textContent=t}})};function he(e,t){const{name:n,imgURL:s}=e;return`<li class="categories-item">
            <a
              href="javascript:void(0);"
              class="category-card"
              data-name="${n}"
              aria-label="Category ${n}">

                <div class="card-image-wrapper">
                    <img src="${s}" alt="${n}">
                    <div class="card-overlay"></div>
                </div>

                <div class="card-content">
                    <h3 class="category-title">${n}</h3>
                    <p class='category-filter'>${t}</p>
                </div>
            </a>
        </li>`}const T="/your-energy-goit/assets/icons-BDHVsXq2.svg";function re(e){const{id:t,isHomePage:n=!0,rating:s,name:r,burnedCalories:i,time:a,bodyPart:o,target:l}=e;return`
  <li class="exercise-card" data-id="${t}">
    <div class="exercise-card__header">
      <div class="exercise-card__workout-and-rating">
        <div class="exercise-card__workout">
          <span class="exercise-card__workout__text">WORKOUT</span>
        </div>
        ${ye(n,s)}
      </div>
      <button class="exercise-card__start">
        <span class="exercise-card__start__text">Start</span>
        <svg class="exercise-card__start__icon" width="16" height="16">
          <use href="${T}#icon-arrow-black"></use>
        </svg>
      </button>
    </div>
    <div class="exercise-card__body">
      <div class="exercise-card__icon-runner__container">
        <svg class="exercise-card__icon-runner" width="16" height="16">
          <use href="${T}#icon-runner"></use>
        </svg>
      </div>
      <p class="exercise-card__title">
        ${xe(r)}
      </p>
    </div>
    <ul class="exercise-card__footer__list">
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Burned calories:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${i} / ${a} min</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Body part:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${o}</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Target:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${l}</span
        >
      </li>
    </ul>
  </li>
  `}function ye(e,t){return e?`<div class="exercise-card__rating">
          <span class="exercise-card__rating__number">${t}</span>
          <svg width="13" height="13">
            <use fill="#EEA10C" href="${T}#icon-star"></use>
          </svg>
        </div>`:`<svg class="exercise-card__trash-icon" width="16" height="16">
          <use href="${T}#icon-trash"></use>
        </svg>`}function xe(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function R({container:e,currentPage:t,totalPages:n,onPageChange:s}){if(!e)return;if(t=Number(t)||1,n=Number(n)||1,!n||n<=1){e.innerHTML="",e.hidden=!0;return}e.hidden=!1;const r=(c,d,u="",g=!1,p=!1)=>{const x=g?"disabled":"",y=p?" ex-pagination__btn--active":"",_=d?`data-page="${d}"`:"";return`<button type="button" class="ex-pagination__btn ${u}${y}" ${_} ${x}>${c}</button>`};let i=[],a=!1,o=!1;if(n<=3)for(let c=1;c<=n;c+=1)i.push(c);else t<=2?(i=[1,2,3],o=!0):t>=n-1?(i=[n-2,n-1,n],a=!0):(i=[t-1,t,t+1],a=!0,o=!0);let l="";l+=r("«",1,"ex-pagination__btn--arrow",t===1),l+=r("‹",t-1,"ex-pagination__btn--arrow",t===1),a&&(l+='<span class="ex-pagination__ellipsis">…</span>'),i.forEach(c=>{l+=r(String(c),c,"",!1,c===t)}),o&&(l+='<span class="ex-pagination__ellipsis">…</span>'),l+=r("›",t+1,"ex-pagination__btn--arrow",t===n),l+=r("»",n,"ex-pagination__btn--arrow",t===n),e.innerHTML=l,e.onclick=c=>{const d=c.target.closest(".ex-pagination__btn");if(!d||d.disabled)return;const u=Number(d.dataset.page);!u||u===t||s(u)}}function _e(e){return e?e[0].toUpperCase()+e.slice(1):""}function k(e){const t=document.getElementById("filtersGrid");if(t){if(!e.length){t.innerHTML="<p>There are no exercises in this category</p>";return}t.dataset.exercises="true",t.innerHTML=e.map(n=>re({isHomePage:!0,id:n._id,...n})).join("")}}const ve=()=>{const e=document.getElementById("filters"),t=document.getElementById("filtersGrid"),n=document.getElementById("selectedSubcategory"),s=document.getElementById("searchContainer"),r=document.getElementById("searchInput"),i=document.querySelector(".search-icon"),a=document.querySelector(".exercises-title"),o=document.getElementById("exercisesPagination"),l=12,c=10,d=()=>window.matchMedia("(max-width: 767px)").matches,u=()=>d()?9:12,g=()=>d()?8:10;let p="Muscles",x=[],y="",_=1,L=1,F=d();function $(m){document.querySelectorAll(".filter-btn").forEach(f=>f.classList.remove("filter-btn--active")),m.classList.add("filter-btn--active")}async function C(m,f=1){try{const h=await B.getFiltersOfExercises({filter:m,page:f,limit:l}),b=h.results||[],w=u(),O=w<l?b.slice(0,w):b;N(O,m);const q=h.total??b.length;_=h.page??f,L=h.totalPages??(q?Math.ceil(q/w):1),o&&L>1?R({container:o,currentPage:_,totalPages:L,onPageChange:G=>{C(m,G),e.scrollIntoView({behavior:"smooth",block:"start"})}}):o&&(o.innerHTML="",o.hidden=!0)}catch(h){console.error("Error loading filters:",h),t.innerHTML="<p>Failed to load filters</p>",o&&(o.innerHTML="",o.hidden=!0)}}function N(m,f){if(o&&(o.innerHTML="",o.hidden=!0),!m.length){t.innerHTML="<p>There are no categories</p>";return}t.dataset.exercises="false",t.innerHTML=m.map(h=>he(h,f)).join("")}async function A(m,f,h=1){const b={page:h,limit:c};m==="Body parts"?b.bodypart=f:m==="Muscles"?b.target=f:m==="Equipment"&&(b.equipment=f);try{const w=await B.getExercisesByFilters(b),O=w.results||[],q=g(),G=q<c?O.slice(0,q):O,W=w.total??O.length;x=G,_=w.page??h,L=w.totalPages??(W?Math.ceil(W/q):1),k(x),o&&L>1?R({container:o,currentPage:_,totalPages:L,onPageChange:le=>{A(p,y,le),e.scrollIntoView({behavior:"smooth",block:"start"})}}):o&&(o.innerHTML="",o.hidden=!0)}catch(w){console.error("Error loading exercises:",w),t.innerHTML="<p>Failed to load exercises</p>",o&&(o.innerHTML="",o.hidden=!0)}}function S(){const m=r.value.toLowerCase().trim();if(!m){k(x);return}const f=x.filter(h=>(h.name||"").toLowerCase().includes(m));k(f)}e.addEventListener("click",async m=>{const f=m.target.closest(".filter-btn");if(!f)return;const h=f.dataset.filter;!h||h===p||(p=h,$(f),n.textContent="",y="",s.hidden=!0,r.value="",x=[],C(p,1))}),t.addEventListener("click",async m=>{const f=m.target.closest(".category-card");if(!f)return;const h=f.dataset.name,b=_e(h);y=h,n.textContent=b,s.hidden=!1,r.value="",await A(p,y,1)}),r.addEventListener("input",S),r.addEventListener("keydown",m=>{m.key==="Enter"&&(m.preventDefault(),S())}),i&&i.addEventListener("click",S),document.addEventListener("DOMContentLoaded",()=>{C("Muscles",1)}),a.addEventListener("click",async()=>{const m=document.querySelector(".filter-btn--active"),f=m?m.dataset.filter:p;p=f,m&&$(m),y="",n.textContent="",r.value="",s.hidden=!0,x=[],await C(f,1)}),window.addEventListener("resize",()=>{const m=d();m!==F&&(F=m,t.dataset.exercises==="true"&&y?A(p,y,1):C(p,1))})},Ee=()=>{J.defaults.baseURL="https://your-energy.b.goit.study/api";const e=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function t(s,r){M.show({title:s==="success"?"Success":"Error",message:r,position:"center",color:s==="success"?"green":"red",timeout:4e3,pauseOnHover:!0,closeOnClick:!0})}async function n(s){var r,i,a;try{const{data:o}=await J.post("/subscription",{email:s});t("success",o.message||"Subscription created!")}catch(o){if(((r=o.response)==null?void 0:r.status)===409)t("error","You are already subscribed!");else{const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Something went wrong!";t("error",l)}}}document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelector(".footer-subscribe-form"),r=s.querySelector(".footer-subscribe-input");s.addEventListener("submit",async i=>{i.preventDefault();const a=r.value.trim();if(!e.test(a)){t("error","Please enter a valid email address. Example - info@goit.ua");return}await n(a),r.value=""})})},be=()=>{const e=document.querySelector(".to-top-btn");e&&e.addEventListener("click",t),window.addEventListener("scroll",n);function t(){document.body.scroll({behavior:"smooth",top:0}),document.documentElement.scroll({behavior:"smooth",top:0})}function n(){document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="flex":e.style.display="none"}};function we(){const e=localStorage.getItem("favorites");if(!e)return;let t=JSON.parse(e);const n=document.querySelector(".favorites-list-clear"),s=document.querySelector(".favorites-list"),r=document.querySelector(".favorites-pagination-block");let i=1;const a=10,o=()=>{if(t.length===0){s.innerHTML="",r.innerHTML="",n&&(n.style.display="block");return}else n&&(n.style.display="none");let c;if(window.innerWidth>=1440)c=t,r.innerHTML="";else{const u=Math.ceil(t.length/a);i>u&&(i=u||1);const g=(i-1)*a,p=g+a;c=t.slice(g,p),l(u)}const d=c.map(u=>(u.isHomePage=!1,u.id=u._id,re(u)));s.innerHTML=d.join("")},l=c=>{if(c<=1){r.innerHTML="";return}let d="";for(let u=1;u<=c;u++)d+=`<button class="favorites-pagination-btn ${u===i?"active":""}" type="button" data-page="${u}">${u}</button>`;r.innerHTML=d};r&&(r.addEventListener("click",c=>{if(c.target.classList.contains("favorites-pagination-btn")){const d=Number(c.target.dataset.page);d!==i&&(i=d,o(),s.scrollIntoView({behavior:"smooth",block:"start"}))}}),s.addEventListener("click",c=>{const d=c.target.closest(".exercise-card__trash-icon");if(d){const g=d.closest(".exercise-card").dataset.id;t=t.filter(p=>String(p._id)!==String(g)),localStorage.setItem("favorites",JSON.stringify(t)),o()}}),window.addEventListener("resize",o),o())}function Le(){const e=document.querySelector(".loader-page");e&&window.addEventListener("load",()=>{setTimeout(()=>{e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)},500)})}const U={add:"Add to favorites",remove:"Remove from favorites"};function Ie(){H.init({onShow:e=>console.info(`${e.id} is shown`),onClose:e=>console.info(`${e.id} is hidden`),openTrigger:"data-micromodal-trigger",closeTrigger:"data-micromodal-close",openClass:"is-open",disableScroll:!0,disableFocus:!1,awaitOpenAnimation:!0,awaitCloseAnimation:!0,debugMode:!0}),document.addEventListener("click",async e=>{const t=e.target.closest(".exercise-card__start");if(!t)return;const n=t.closest(".exercise-card");if(!n)return;const s=n.dataset.id;if(!s){console.error("Exercise ID not found");return}try{const r=await B.getExercisesById(s);Se(r),H.show("exerciseModal")}catch(r){console.error("Error loading exercise details:",r)}}),document.addEventListener("click",e=>{var n;e.target.closest("#exerciseModalRatingBtn")&&((n=document.getElementById("exerciseModalRating"))!=null&&n.textContent,H.close("exerciseModal"),setTimeout(()=>{Ce(),H.show("ratingModal")},300))}),document.addEventListener("click",e=>{var y,_,L,F,$,C,N,A;const t=e.target.closest("#exerciseModalFavoriteBtn");if(!t)return;const n=t.querySelector(".exerciseModalFavoriteBtn__text"),s=t.querySelector(".exercise-modal__btn__heart-icon"),r=t.querySelector(".exercise-card__btn__trash-icon"),i=document.getElementById("exerciseModal"),a=i==null?void 0:i.dataset.exerciseId;if(!a){console.error("Exercise ID not found");return}const o=JSON.parse(localStorage.getItem("favorites"))||[],l=o.findIndex(S=>S._id===a),c=parseFloat((y=document.getElementById("exerciseModalRating"))==null?void 0:y.textContent)||0,d=((_=document.getElementById("exerciseModal-title"))==null?void 0:_.textContent)||"",u=((F=(L=document.getElementById("exerciseModalCalories"))==null?void 0:L.textContent)==null?void 0:F.split("/")[0])||"",g=((C=($=document.getElementById("exerciseModalCalories"))==null?void 0:$.textContent)==null?void 0:C.split("/")[1])||"",p=((N=document.getElementById("exerciseModalBodyPart"))==null?void 0:N.textContent)||"",x=((A=document.getElementById("exerciseModalTarget"))==null?void 0:A.textContent)||"";if(l===-1){const S={_id:a,rating:c,name:d,burnedCalories:u,target:x,bodyPart:p,time:g};o.push(S),n.textContent=U.remove,s.style.display="none",r.style.display="block"}else o.splice(l,1),n.textContent=U.add,s.style.display="block",r.style.display="none";localStorage.setItem("favorites",JSON.stringify(o))})}function Ce(e){const t=document.getElementById("ratingModalCurrentValue");t&&(t.textContent="0.0");const n=document.getElementById("ratingModalCurrentStars");if(!n)return;let s=0;n.innerHTML="";for(let i=0;i<5;i++){const a=i+1,o=document.createElement("button");o.type="button",o.className="rating-modal__star-btn",o.setAttribute("data-rating",a),o.setAttribute("aria-label",`Rate ${a} stars`);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width","18"),l.setAttribute("height","18"),l.classList.add("exercise-modal__star","exercise-modal__star--empty");const c=document.createElementNS("http://www.w3.org/2000/svg","use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${T}#icon-star`),l.appendChild(c),o.appendChild(l),o.addEventListener("click",()=>{s=a,r(s);const d=document.querySelector(".rating-modal__rating-value");d&&(d.textContent=s.toFixed(1)),n.setAttribute("data-selected-rating",s)}),n.appendChild(o)}function r(i){n.querySelectorAll(".rating-modal__star-btn").forEach((o,l)=>{const c=o.querySelector("svg");l<i?(c.classList.remove("exercise-modal__star--empty"),c.classList.add("exercise-modal__star--filled")):(c.classList.add("exercise-modal__star--empty"),c.classList.remove("exercise-modal__star--filled"))})}}function Se(e){if(!e)return;const t=document.getElementById("exerciseModal");t&&e._id&&(t.dataset.exerciseId=e._id);const n=document.getElementById("exerciseModalImage");n&&e.gifUrl&&(n.src=e.gifUrl,n.alt=e.name||"Exercise");const s=document.getElementById("exerciseModal-title");s&&e.name&&(s.textContent=e.name);const r=document.getElementById("exerciseModalRating");r&&e.rating&&(r.textContent=e.rating.toFixed(1)),Me(e.rating);const i=document.getElementById("exerciseModalTarget");i&&e.target&&(i.textContent=j(e.target));const a=document.getElementById("exerciseModalBodyPart");a&&e.bodyPart&&(a.textContent=j(e.bodyPart));const o=document.getElementById("exerciseModalEquipment");o&&e.equipment&&(o.textContent=j(e.equipment));const l=document.getElementById("exerciseModalPopular");l&&e.popularity&&(l.textContent=e.popularity);const c=document.getElementById("exerciseModalCalories");c&&e.burnedCalories&&e.time&&(c.textContent=`${e.burnedCalories}/${e.time} min`);const d=document.getElementById("exerciseModalDescription");d&&e.description&&(d.textContent=e.description);const u=document.querySelector(".exerciseModalFavoriteBtn__text"),g=document.querySelector(".exercise-modal__btn__heart-icon"),p=document.querySelector(".exercise-card__btn__trash-icon");u&&g&&p&&((JSON.parse(localStorage.getItem("favorites"))||[]).findIndex(_=>_._id===e._id)===-1?(u.textContent=U.add,g.style.display="block",p.style.display="none"):(u.textContent=U.remove,g.style.display="none",p.style.display="block"))}function j(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Me(e){const t=document.getElementById("exerciseModalStars");if(!(!t||!e)){t.innerHTML="";for(let n=0;n<5;n++){const s=document.createElement("span");s.className="exercise-modal__star-wrapper",s.style.position="relative",s.style.display="inline-block",s.style.width="18px",s.style.height="18px";const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width","18"),r.setAttribute("height","18"),r.classList.add("exercise-modal__star","exercise-modal__star--empty");const i=document.createElementNS("http://www.w3.org/2000/svg","use");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${T}#icon-star`),r.appendChild(i),s.appendChild(r);const a=Math.max(0,Math.min(100,(e-n)*100));if(a>0){const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","18"),o.setAttribute("height","18"),o.classList.add("exercise-modal__star","exercise-modal__star--filled"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.clipPath=`inset(0 ${100-a}% 0 0)`;const l=document.createElementNS("http://www.w3.org/2000/svg","use");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${T}#icon-star`),o.appendChild(l),s.appendChild(o)}t.appendChild(s)}}}const Z=document.getElementById("ratingForm");Z&&Z.addEventListener("submit",async e=>{var l,c;e.preventDefault();const t=(l=document.getElementById("ratingEmail"))==null?void 0:l.value.trim(),n=(c=document.getElementById("ratingComment"))==null?void 0:c.value.trim(),s=document.getElementById("ratingModalCurrentStars"),r=parseFloat((s==null?void 0:s.dataset.selectedRating)||"0");if(!t||!r){console.error("Please fill all fields and select a rating");return}const i=document.getElementById("exerciseModal"),a=i==null?void 0:i.dataset.exerciseId;if(!a)return;const o={email:t,review:n,rate:r};try{await B.addRating(a,o),H.close("ratingModal"),M.info({title:"Success",message:"Rating sent successfully",position:"topRight"})}catch(d){M.error({title:"Error",message:d.message,position:"topRight"})}});console.log("iziToast >>>",M);const E=document.getElementById("searchInput"),ee=document.querySelector(".search-btn"),te=document.querySelector(".search-clear-btn"),z=document.getElementById("filtersGrid"),se=document.getElementById("selectedSubcategory"),ie=document.getElementById("exercisesPagination");function oe(){const e=document.querySelector(".filter-btn--active");return e?e.dataset.filter:"Muscles"}function ae(e){switch(e){case"Muscles":return"muscles";case"Body parts":return"bodypart";case"Equipment":return"equipment";default:return"muscles"}}function Be(){return E?E.closest(".search-wrapper"):null}function K(){const e=Be();e&&(E.value.trim()?e.classList.add("has-text"):e.classList.remove("has-text"))}async function Q(){const e=se.textContent.trim().toLowerCase();if(!e)return;const t=oe(),n=ae(t);z.innerHTML="<p>Loading...</p>";try{const s={page:1,limit:12};s[n]=e;const r=await B.getExercisesByFilters(s),i=Array.isArray(r.results)?r.results:[];i.length||(k(i),R({container:ie,currentPage:1,totalPages:0,onPageChange:()=>{}})),k(i)}catch(s){console.error(s),z.innerHTML="<p>Failed to load exercises</p>",M.error({title:"Error",message:"Failed to load exercises",position:"topRight"})}}async function ce(){const e=E.value.trim(),t=se.textContent.trim().toLowerCase(),n=oe(),s=ae(n);if(K(),!t){M.info({title:"Select category",message:"Choose the category first",position:"topRight"});return}if(!e){await Q();return}z.innerHTML="<p>Loading...</p>";try{const r={page:1,limit:12,keyword:e};r[s]=t;const i=await B.getExercisesByFilters(r),a=Array.isArray(i.results)?i.results:[];if(!a.length){z.innerHTML="<p>There are no results for your query</p>",R({container:ie,currentPage:1,totalPages:0,onPageChange:()=>{}});return}k(a)}catch(r){console.error(r),M.error({title:"Error",message:"Search failed",position:"topRight"})}}E&&(E.addEventListener("input",async e=>{e.stopImmediatePropagation(),K(),E.value.trim()||await Q()},!0),E.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),e.stopImmediatePropagation(),ce())},!0));ee&&ee.addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation(),ce()},!0);te&&E&&te.addEventListener("click",async e=>{e.preventDefault(),e.stopImmediatePropagation(),E.value="",K(),await Q(),E.focus()},!0);const Te=()=>{Le();const e=document.body.dataset.page;e==="home"?ve():e==="favorites"&&console.log("PAGE FAVORITES"),ge(),fe(),be(),Ee(),we(),Ie()};Te();
//# sourceMappingURL=main-70c_6pCP.js.map
