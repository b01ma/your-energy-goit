var xe=Object.defineProperty;var ee=e=>{throw TypeError(e)};var ve=(e,t,r)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var j=(e,t,r)=>ve(e,typeof t!="symbol"?t+"":t,r),_e=(e,t,r)=>t.has(e)||ee("Cannot "+r);var te=(e,t,r)=>t.has(e)?ee("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var L=(e,t,r)=>(_e(e,t,"access private method"),r);import{a as W,i as B,l as H}from"./vendor-CypzKZfR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const Ee=()=>{const e=document.querySelector("#mobile-menu-btn"),t=document.querySelector("#header-mobile-menu"),r=document.querySelector(".header-nav"),n=document.querySelector(".header-socials"),o=t.querySelectorAll(".header-socials-link"),s=globalThis.matchMedia("(max-width: 768px)");function a(){e.setAttribute("aria-expanded","true"),t.dataset.expanded="true"}function i(){e.setAttribute("aria-expanded","false"),t.dataset.expanded="false"}function c(){e.classList.remove("visually-hidden"),r.classList.add("visually-hidden"),n.classList.add("visually-hidden")}function d(){e.classList.add("visually-hidden"),r.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"),i()}function l(){var f,y,x,v;const u=globalThis.location.pathname.includes("favorites");(f=document.querySelector("#nav-desktop-home"))==null||f.classList.toggle("nav-active",!u),(y=document.querySelector("#nav-desktop-favorites"))==null||y.classList.toggle("nav-active",u),(x=document.querySelector("#nav-mobile-home"))==null||x.classList.toggle("nav-active",!u),(v=document.querySelector("#nav-mobile-favorites"))==null||v.classList.toggle("nav-active",u)}function m(u){u.matches?c():d()}e.addEventListener("click",()=>{e.getAttribute("aria-expanded")==="true"?i():a()}),o.forEach(u=>{u.addEventListener("click",i)}),document.addEventListener("keydown",u=>{u.key==="Escape"&&t.getAttribute("aria-expanded")==="true"&&i()}),document.addEventListener("DOMContentLoaded",()=>{l()}),m(s),s.addEventListener("change",m)};var _,ae,U,P;class be{constructor(t){te(this,_);j(this,"PAGE_DEFAULT",1);j(this,"LIMIT_DEFAULT",10);this.client=W.create({baseURL:t,headers:{"Content-Type":"application/json"}})}async getExercisesByFilters(t={}){const{page:r,limit:n,...o}=t,s={...L(this,_,ae).call(this,o),page:L(this,_,P).call(this,r,this.PAGE_DEFAULT),limit:L(this,_,P).call(this,n,this.LIMIT_DEFAULT)};try{return(await this.client.get("exercises",{params:s})).data}catch(a){throw new Error(a.response.data.message)}}async getExercisesById(t=""){if(!L(this,_,U).call(this,t))return{};try{return(await this.client.get(`exercises/${t}`)).data}catch(n){throw new Error(n.response.data.message)}}async getFiltersOfExercises(t={}){const{filter:r,page:n,limit:o}=t,s={filter:L(this,_,U).call(this,r),page:L(this,_,P).call(this,n,this.PAGE_DEFAULT),limit:L(this,_,P).call(this,o,this.LIMIT_DEFAULT)};try{return(await this.client.get("filters",{params:s})).data}catch(a){throw new Error(a.response.data.message)}}async getQuote(){return(await this.client.get("quote")).data}async subscribe(t=""){try{return(await this.client.post("subscription",{email:t})).data}catch(r){throw new Error(r.response.data.message)}}async addRating(t,r={}){try{return(await this.client.patch(`exercises/${t}/rating`,r)).data}catch(n){throw new Error(n.response.data.message)}}}_=new WeakSet,ae=function(t={}){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,L(this,_,U).call(this,n)]).filter(([r,n])=>n!==void 0))},U=function(t=""){if(typeof t!="string")return;const r=t.trim();return r.length?r:void 0},P=function(t,r){const n=Number(t);return Number.isFinite(n)?n:r};const M=new be("https://your-energy.b.goit.study/api/"),we=()=>{const e="A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.",t="Tom Brady";document.addEventListener("DOMContentLoaded",async()=>{const r=new Date().toISOString().slice(0,10),n=JSON.parse(localStorage.getItem("dailyQuote"));if(n&&n.date===r){document.getElementById("quote-text").textContent=n.quote,document.getElementById("quote-author").textContent=n.author;return}try{const{quote:o,author:s}=await M.getQuote();document.getElementById("quote-text").textContent=o,document.getElementById("quote-author").textContent=s,localStorage.setItem("dailyQuote",JSON.stringify({quote:o,author:s,date:r}))}catch(o){console.error("Error loading quote:",o),document.getElementById("quote-text").textContent=e,document.getElementById("quote-author").textContent=t}})};function Ie(e,t){const{name:r,imgURL:n}=e;return`<li class="categories-item">
            <a
              href="javascript:void(0);"
              class="category-card"
              data-name="${r}"
              aria-label="Category ${r}">

                <div class="card-image-wrapper">
                    <img src="${n}" alt="${r}">
                    <div class="card-overlay"></div>
                </div>

                <div class="card-content">
                    <h3 class="category-title">${r}</h3>
                    <p class='category-filter'>${t}</p>
                </div>
            </a>
        </li>`}const T="/your-energy-goit/assets/icons-BI5Wx2_-.svg";function ce(e){const{id:t,isHomePage:r=!0,rating:n,name:o,burnedCalories:s,time:a,bodyPart:i,target:c}=e;return`
  <li class="exercise-card" data-id="${t}">
    <div class="exercise-card__header">
      <div class="exercise-card__workout-and-rating">
        <div class="exercise-card__workout">
          <span class="exercise-card__workout__text">WORKOUT</span>
        </div>
        ${Le(r,n)}
      </div>
      <button class="exercise-card__start">
        <span class="exercise-card__start__text">Start</span>
        <svg class="exercise-card__start__icon" width="16" height="16">
          <use href="${T}#icon-arrow-black"></use>
        </svg>
      </button>
    </div>
    <div class="exercise-card__body">
      <div class="exercise-card__icon-runner__container">
        <svg class="exercise-card__icon-runner" width="16" height="16">
          <use href="${T}#icon-runner"></use>
        </svg>
      </div>
      <p class="exercise-card__title">
        ${Se(o)}
      </p>
    </div>
    <ul class="exercise-card__footer__list">
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Burned calories:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${s} / ${a} min</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Body part:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${i}</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Target:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${c}</span
        >
      </li>
    </ul>
  </li>
  `}function Le(e,t){return e?`<div class="exercise-card__rating">
          <span class="exercise-card__rating__number">${t}</span>
          <svg width="13" height="13">
            <use fill="#EEA10C" href="${T}#icon-star"></use>
          </svg>
        </div>`:`<svg class="exercise-card__trash-icon" width="16" height="16">
          <use href="${T}#icon-trash"></use>
        </svg>`}function Se(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function R({container:e,currentPage:t,totalPages:r,onPageChange:n}){if(!e)return;if(t=Number(t)||1,r=Number(r)||1,!r||r<=1){e.innerHTML="",e.hidden=!0;return}e.hidden=!1;const o=(d,l,m="",u=!1,f=!1)=>{const y=u?"disabled":"",x=f?" ex-pagination__btn--active":"",v=l?`data-page="${l}"`:"";return`<button type="button" class="ex-pagination__btn ${m}${x}" ${v} ${y}>${d}</button>`};let s=[],a=!1,i=!1;if(r<=3)for(let d=1;d<=r;d+=1)s.push(d);else t<=2?(s=[1,2,3],i=!0):t>=r-1?(s=[r-2,r-1,r],a=!0):(s=[t-1,t,t+1],a=!0,i=!0);let c="";c+=o("«",1,"ex-pagination__btn--arrow",t===1),c+=o("‹",t-1,"ex-pagination__btn--arrow",t===1),a&&(c+='<span class="ex-pagination__ellipsis">…</span>'),s.forEach(d=>{c+=o(String(d),d,"",!1,d===t)}),i&&(c+='<span class="ex-pagination__ellipsis">…</span>'),c+=o("›",t+1,"ex-pagination__btn--arrow",t===r),c+=o("»",r,"ex-pagination__btn--arrow",t===r),e.innerHTML=c,e.onclick=d=>{const l=d.target.closest(".ex-pagination__btn");if(!l||l.disabled)return;const m=Number(l.dataset.page);!m||m===t||n(m)}}function Me(e){return e?e[0].toUpperCase()+e.slice(1):""}function N(e){const t=document.getElementById("filtersGrid");if(t){if(!e.length){t.innerHTML="<p>There are no exercises in this category</p>";return}t.dataset.exercises="true",t.innerHTML=e.map(r=>ce({isHomePage:!0,id:r._id,...r})).join("")}}const Ce=()=>{const e=document.getElementById("filters"),t=document.getElementById("filtersGrid"),r=document.getElementById("selectedSubcategory"),n=document.getElementById("searchContainer"),o=document.getElementById("searchInput"),s=document.querySelector(".search-icon"),a=document.querySelector(".exercises-title"),i=document.getElementById("exercisesPagination"),c=12,d=10,l=()=>window.matchMedia("(max-width: 767px)").matches,m=()=>l()?9:12,u=()=>l()?8:10;let f="Muscles",y=[],x="",v=1,I=1,q=l();function O(g){document.querySelectorAll(".filter-btn").forEach(p=>p.classList.remove("filter-btn--active")),g.classList.add("filter-btn--active")}async function S(g,p=1){try{const h=await M.getFiltersOfExercises({filter:g,page:p,limit:c}),b=h.results||[],w=m(),$=w<c?b.slice(0,w):b;D($,g);const F=h.total??b.length;v=h.page??p,I=h.totalPages??(F?Math.ceil(F/w):1),i&&I>1?R({container:i,currentPage:v,totalPages:I,onPageChange:V=>{S(g,V),e.scrollIntoView({behavior:"smooth",block:"start"})}}):i&&(i.innerHTML="",i.hidden=!0)}catch(h){console.error("Error loading filters:",h),t.innerHTML="<p>Failed to load filters</p>",i&&(i.innerHTML="",i.hidden=!0)}}function D(g,p){if(i&&(i.innerHTML="",i.hidden=!0),!g.length){t.innerHTML="<p>There are no categories</p>";return}t.dataset.exercises="false",t.innerHTML=g.map(h=>Ie(h,p)).join("")}async function A(g,p,h=1){const b={page:h,limit:d};g==="Body parts"?b.bodypart=p:g==="Muscles"?b.target=p:g==="Equipment"&&(b.equipment=p);try{const w=await M.getExercisesByFilters(b),$=w.results||[],F=u(),V=F<d?$.slice(0,F):$,X=w.total??$.length;y=V,v=w.page??h,I=w.totalPages??(X?Math.ceil(X/F):1),N(y),i&&I>1?R({container:i,currentPage:v,totalPages:I,onPageChange:ye=>{A(f,x,ye),e.scrollIntoView({behavior:"smooth",block:"start"})}}):i&&(i.innerHTML="",i.hidden=!0)}catch(w){console.error("Error loading exercises:",w),t.innerHTML="<p>Failed to load exercises</p>",i&&(i.innerHTML="",i.hidden=!0)}}function C(){const g=o.value.toLowerCase().trim();if(!g){N(y);return}const p=y.filter(h=>(h.name||"").toLowerCase().includes(g));N(p)}e.addEventListener("click",async g=>{const p=g.target.closest(".filter-btn");if(!p)return;const h=p.dataset.filter;!h||h===f||(f=h,O(p),r.textContent="",x="",n.hidden=!0,o.value="",y=[],S(f,1))}),t.addEventListener("click",async g=>{const p=g.target.closest(".category-card");if(!p)return;const h=p.dataset.name,b=Me(h);x=h,r.textContent=b,n.hidden=!1,o.value="",await A(f,x,1)}),o.addEventListener("input",C),o.addEventListener("keydown",g=>{g.key==="Enter"&&(g.preventDefault(),C())}),s&&s.addEventListener("click",C),document.addEventListener("DOMContentLoaded",()=>{S("Muscles",1)}),a.addEventListener("click",async()=>{const g=document.querySelector(".filter-btn--active"),p=g?g.dataset.filter:f;f=p,g&&O(g),x="",r.textContent="",o.value="",n.hidden=!0,y=[],await S(p,1)}),window.addEventListener("resize",()=>{const g=l();g!==q&&(q=g,t.dataset.exercises==="true"&&x?A(f,x,1):S(f,1))})},Be=()=>{W.defaults.baseURL="https://your-energy.b.goit.study/api";const e=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function t(n,o){B.show({title:n==="success"?"Success":"Error",message:o,position:"center",color:n==="success"?"green":"red",timeout:4e3,pauseOnHover:!0,closeOnClick:!0})}async function r(n){var o,s,a;try{const{data:i}=await W.post("/subscription",{email:n});t("success",i.message||"Subscription created!")}catch(i){if(((o=i.response)==null?void 0:o.status)===409)t("error","You are already subscribed!");else{const c=((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.message)||i.message||"Something went wrong!";t("error",c)}}}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".footer-subscribe-form"),o=n.querySelector(".footer-subscribe-input");n.addEventListener("submit",async s=>{s.preventDefault();const a=o.value.trim();if(!e.test(a)){t("error","Please enter a valid email address. Example - info@goit.ua");return}await r(a),o.value=""})})},Te=()=>{const e=document.querySelector(".to-top-btn");e&&e.addEventListener("click",t),window.addEventListener("scroll",r);function t(){document.body.scroll({behavior:"smooth",top:0}),document.documentElement.scroll({behavior:"smooth",top:0})}function r(){document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="flex":e.style.display="none"}};function Ae(){let e=localStorage.getItem("favorites"),t=e?JSON.parse(e):[];const r=document.querySelector(".favorites-list-clear"),n=document.querySelector(".favorites-list"),o=document.querySelector(".favorites-pagination-block");if(!n||!o)return;let s=1;const a=10,i=()=>{if(!t||t.length===0){n.innerHTML="",o.innerHTML="",r&&(r.style.display="block");return}else r&&(r.style.display="none");let l;if(window.innerWidth>=1440)l=t,o.innerHTML="";else{const u=Math.ceil(t.length/a);s>u&&(s=u||1);const f=(s-1)*a,y=f+a;l=t.slice(f,y),c(u)}const m=l.map(u=>(u.isHomePage=!1,u.id=u._id,ce(u)));n.innerHTML=m.join("")},c=l=>{if(l<=1){o.innerHTML="";return}let m="";for(let u=1;u<=l;u++)m+=`<button class="favorites-pagination-btn ${u===s?"active":""}" type="button" data-page="${u}">${u}</button>`;o.innerHTML=m},d=()=>{const l=localStorage.getItem("favorites");t=l?JSON.parse(l):[],i()};o.addEventListener("click",l=>{if(l.target.classList.contains("favorites-pagination-btn")){const m=Number(l.target.dataset.page);m!==s&&(s=m,i(),n.scrollIntoView({behavior:"smooth",block:"start"}))}}),n.addEventListener("click",l=>{const m=l.target.closest(".exercise-card__trash-icon");if(m){const f=m.closest(".exercise-card").dataset.id;t=t.filter(y=>String(y._id)!==String(f)),localStorage.setItem("favorites",JSON.stringify(t)),i()}}),window.addEventListener("resize",i),window.addEventListener("favorites-updated",d),window.addEventListener("storage",l=>{l.key==="favorites"&&d()}),i()}function Fe(){const e=document.querySelector(".loader-page");e&&window.addEventListener("load",()=>{setTimeout(()=>{e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)},500)})}const le="favorites",ke="/img/icons.svg#icon-heart",qe="/img/icons.svg#icon-trash";function re(e){try{localStorage.setItem(le,JSON.stringify(e))}catch(t){console.error("Failed to save favorites to localStorage:",t)}}function de(){try{const e=localStorage.getItem(le);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Failed to parse favorites from localStorage:",e),[]}}function ue(e,t){return e.some(r=>String(r._id)===String(t))}function Q(e,t){e&&(e.dataset.favorite=t?"true":"false",t?e.innerHTML=`
      Remove from favorites
      <svg class="exercise-modal__btn-icon" width="20" height="20">
        <use href="${qe}"></use>
      </svg>
    `:e.innerHTML=`
      Add to favorites
      <svg class="exercise-modal__btn-icon" width="20" height="20">
        <use href="${ke}"></use>
      </svg>
    `)}function me(){const e=document.getElementById("exerciseModalFavoriteBtn");if(e&&e.dataset.id)return e.dataset.id;const t=document.getElementById("exerciseModal");if(t&&t.dataset.id)return t.dataset.id;if(t){const r=t.querySelector("[data-id]");if(r)return r.dataset.id}return console.warn("exercise-modal-favorites: exercise id not found."),null}async function Oe(e){const t=e.currentTarget,r=me();if(!r)return;let n=de();const o=ue(n,r);t.disabled=!0;try{if(o)n=n.filter(s=>String(s._id)!==String(r)),re(n),Q(t,!1);else{const s=await M.getExercisesById(r);!s||!s._id?console.error("Failed to load exercise data for favorites."):(n.push(s),re(n),Q(t,!0))}}catch(s){console.error("Failed to toggle favorite exercise:",s)}finally{t.disabled=!1}}function ge(){const e=document.getElementById("exerciseModalFavoriteBtn");if(!e)return;const t=me();if(!t)return;const r=de(),n=ue(r,t);Q(e,n)}function ne(){const e=document.getElementById("exerciseModalFavoriteBtn");e&&(ge(),e.addEventListener("click",Oe))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ne):ne();const z={add:"Add to favorites",remove:"Remove from favorites"};function $e(){H.init({onShow:e=>console.info(`${e.id} is shown`),onClose:e=>console.info(`${e.id} is hidden`),openTrigger:"data-micromodal-trigger",closeTrigger:"data-micromodal-close",openClass:"is-open",disableScroll:!0,disableFocus:!1,awaitOpenAnimation:!0,awaitCloseAnimation:!0,debugMode:!0}),document.addEventListener("click",async e=>{const t=e.target.closest(".exercise-card__start");if(!t)return;const r=t.closest(".exercise-card");if(!r)return;const n=r.dataset.id;if(!n){console.error("Exercise ID not found");return}try{const o=await M.getExercisesById(n),s=document.getElementById("exerciseModal");s.dataset.id=n;const a=document.getElementById("exerciseModalFavoriteBtn");a.dataset.id=n,Pe(o),ge(),H.show("exerciseModal")}catch(o){console.error("Error loading exercise details:",o)}}),document.addEventListener("click",e=>{var r;e.target.closest("#exerciseModalRatingBtn")&&((r=document.getElementById("exerciseModalRating"))!=null&&r.textContent,H.close("exerciseModal"),setTimeout(()=>{He(),H.show("ratingModal")},300))}),document.addEventListener("click",e=>{var x,v,I,q,O,S,D,A;const t=e.target.closest("#exerciseModalFavoriteBtn");if(!t)return;const r=t.querySelector(".exerciseModalFavoriteBtn__text"),n=t.querySelector(".exercise-modal__btn__heart-icon"),o=t.querySelector(".exercise-card__btn__trash-icon"),s=document.getElementById("exerciseModal"),a=s==null?void 0:s.dataset.exerciseId;if(!a){console.error("Exercise ID not found");return}const i=JSON.parse(localStorage.getItem("favorites"))||[],c=i.findIndex(C=>C._id===a),d=parseFloat((x=document.getElementById("exerciseModalRating"))==null?void 0:x.textContent)||0,l=((v=document.getElementById("exerciseModal-title"))==null?void 0:v.textContent)||"",m=((q=(I=document.getElementById("exerciseModalCalories"))==null?void 0:I.textContent)==null?void 0:q.split("/")[0])||"",u=((S=(O=document.getElementById("exerciseModalCalories"))==null?void 0:O.textContent)==null?void 0:S.split("/")[1])||"",f=((D=document.getElementById("exerciseModalBodyPart"))==null?void 0:D.textContent)||"",y=((A=document.getElementById("exerciseModalTarget"))==null?void 0:A.textContent)||"";if(c===-1){const C={_id:a,rating:d,name:l,burnedCalories:m,target:y,bodyPart:f,time:u};i.push(C),r.textContent=z.remove,n.style.display="none",o.style.display="block"}else i.splice(c,1),r.textContent=z.add,n.style.display="block",o.style.display="none";localStorage.setItem("favorites",JSON.stringify(i)),window.dispatchEvent(new Event("favorites-updated"))})}function He(e){const t=document.getElementById("ratingModalCurrentValue");t&&(t.textContent="0.0");const r=document.getElementById("ratingModalCurrentStars");if(!r)return;let n=0;r.innerHTML="";for(let s=0;s<5;s++){const a=s+1,i=document.createElement("button");i.type="button",i.className="rating-modal__star-btn",i.setAttribute("data-rating",a),i.setAttribute("aria-label",`Rate ${a} stars`);const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width","18"),c.setAttribute("height","18"),c.classList.add("exercise-modal__star","exercise-modal__star--empty");const d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${T}#icon-star`),c.appendChild(d),i.appendChild(c),i.addEventListener("click",()=>{n=a,o(n);const l=document.querySelector(".rating-modal__rating-value");l&&(l.textContent=n.toFixed(1)),r.setAttribute("data-selected-rating",n)}),r.appendChild(i)}function o(s){r.querySelectorAll(".rating-modal__star-btn").forEach((i,c)=>{const d=i.querySelector("svg");c<s?(d.classList.remove("exercise-modal__star--empty"),d.classList.add("exercise-modal__star--filled")):(d.classList.add("exercise-modal__star--empty"),d.classList.remove("exercise-modal__star--filled"))})}}function Pe(e){if(!e)return;const t=document.getElementById("exerciseModal");t&&e._id&&(t.dataset.exerciseId=e._id);const r=document.getElementById("exerciseModalImage");r&&e.gifUrl&&(r.src=e.gifUrl,r.alt=e.name||"Exercise");const n=document.getElementById("exerciseModal-title");n&&e.name&&(n.textContent=e.name);const o=document.getElementById("exerciseModalRating");o&&e.rating&&(o.textContent=e.rating.toFixed(1)),Ne(e.rating);const s=document.getElementById("exerciseModalTarget");s&&e.target&&(s.textContent=K(e.target));const a=document.getElementById("exerciseModalBodyPart");a&&e.bodyPart&&(a.textContent=K(e.bodyPart));const i=document.getElementById("exerciseModalEquipment");i&&e.equipment&&(i.textContent=K(e.equipment));const c=document.getElementById("exerciseModalPopular");c&&e.popularity&&(c.textContent=e.popularity);const d=document.getElementById("exerciseModalCalories");d&&e.burnedCalories&&e.time&&(d.textContent=`${e.burnedCalories}/${e.time} min`);const l=document.getElementById("exerciseModalDescription");l&&e.description&&(l.textContent=e.description);const m=document.querySelector(".exerciseModalFavoriteBtn__text"),u=document.querySelector(".exercise-modal__btn__heart-icon"),f=document.querySelector(".exercise-card__btn__trash-icon");m&&u&&f&&((JSON.parse(localStorage.getItem("favorites"))||[]).findIndex(v=>v._id===e._id)===-1?(m.textContent=z.add,u.style.display="block",f.style.display="none"):(m.textContent=z.remove,u.style.display="none",f.style.display="block"))}function K(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ne(e){const t=document.getElementById("exerciseModalStars");if(!(!t||!e)){t.innerHTML="";for(let r=0;r<5;r++){const n=document.createElement("span");n.className="exercise-modal__star-wrapper",n.style.position="relative",n.style.display="inline-block",n.style.width="18px",n.style.height="18px";const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","18"),o.setAttribute("height","18"),o.classList.add("exercise-modal__star","exercise-modal__star--empty");const s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${T}#icon-star`),o.appendChild(s),n.appendChild(o);const a=Math.max(0,Math.min(100,(e-r)*100));if(a>0){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","18"),i.setAttribute("height","18"),i.classList.add("exercise-modal__star","exercise-modal__star--filled"),i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.clipPath=`inset(0 ${100-a}% 0 0)`;const c=document.createElementNS("http://www.w3.org/2000/svg","use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${T}#icon-star`),i.appendChild(c),n.appendChild(i)}t.appendChild(n)}}}const se=document.getElementById("ratingForm");se&&se.addEventListener("submit",async e=>{var c,d;e.preventDefault();const t=(c=document.getElementById("ratingEmail"))==null?void 0:c.value.trim(),r=(d=document.getElementById("ratingComment"))==null?void 0:d.value.trim(),n=document.getElementById("ratingModalCurrentStars"),o=parseFloat((n==null?void 0:n.dataset.selectedRating)||"0");if(!t||!o){console.error("Please fill all fields and select a rating");return}const s=document.getElementById("exerciseModal"),a=s==null?void 0:s.dataset.exerciseId;if(!a)return;const i={email:t,review:r,rate:o};try{await M.addRating(a,i),H.close("ratingModal"),B.info({title:"Success",message:"Rating sent successfully",position:"topRight"})}catch(l){B.error({title:"Error",message:l.message,position:"topRight"})}});console.log("iziToast >>>",B);const E=document.getElementById("searchInput"),oe=document.querySelector(".search-btn"),ie=document.querySelector(".search-clear-btn"),G=document.getElementById("filtersGrid"),fe=document.getElementById("selectedSubcategory"),k=document.getElementById("exercisesPagination");function pe(){const e=document.querySelector(".filter-btn--active");return e?e.dataset.filter:"Muscles"}function he(e){switch(e){case"Muscles":return"muscles";case"Body parts":return"bodypart";case"Equipment":return"equipment";default:return"muscles"}}function Re(){return E?E.closest(".search-wrapper"):null}function Y(){const e=Re();e&&(E.value.trim()?e.classList.add("has-text"):e.classList.remove("has-text"))}async function J(e=1){const t=fe.textContent.trim().toLowerCase();if(!t)return;const r=pe(),n=he(r);G.innerHTML="<p>Loading...</p>";try{const o={page:e,limit:12};o[n]=t;const s=await M.getExercisesByFilters(o),a=Array.isArray(s.results)?s.results:[];if(N(a),k){const i=typeof s.total=="number"?s.total:a.length,c=s.page??e,d=s.limit??o.limit??12,l=typeof s.totalPages=="number"?s.totalPages:i?Math.ceil(i/d):0;R({container:k,currentPage:c,totalPages:l,onPageChange:m=>{J(m)}})}}catch(o){console.error(o),G.innerHTML="<p>Failed to load exercises</p>",B.error({title:"Error",message:"Failed to load exercises",position:"topRight"})}}async function Z(e=1){const t=E.value.trim(),r=fe.textContent.trim().toLowerCase(),n=pe(),o=he(n);if(Y(),!r){B.info({title:"Select category",message:"Choose the category first",position:"topRight"});return}if(!t){await J(1);return}G.innerHTML="<p>Loading...</p>";try{const s={page:e,limit:12,keyword:t};s[o]=r;const a=await M.getExercisesByFilters(s),i=Array.isArray(a.results)?a.results:[];if(!i.length){G.innerHTML="<p>There are no results for your query</p>",k&&R({container:k,currentPage:1,totalPages:0,onPageChange:()=>{}});return}if(N(i),k){const c=typeof a.total=="number"?a.total:i.length,d=a.page??e,l=a.limit??s.limit??12,m=typeof a.totalPages=="number"?a.totalPages:c?Math.ceil(c/l):1;R({container:k,currentPage:d,totalPages:m,onPageChange:u=>{Z(u)}})}}catch(s){console.error(s),B.error({title:"Error",message:"Search failed",position:"topRight"})}}E&&(E.addEventListener("input",async e=>{e.stopImmediatePropagation(),Y(),E.value.trim()||await J(1)},!0),E.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),e.stopImmediatePropagation(),Z(1))},!0));oe&&oe.addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation(),Z(1)},!0);ie&&E&&ie.addEventListener("click",async e=>{e.preventDefault(),e.stopImmediatePropagation(),E.value="",Y(),await J(1),E.focus()},!0);const De=()=>{Fe();const e=document.body.dataset.page;e==="home"?Ce():e==="favorites"&&console.log("PAGE FAVORITES"),Ee(),we(),Te(),Be(),Ae(),$e()};De();
//# sourceMappingURL=main-BexvIAbP.js.map
