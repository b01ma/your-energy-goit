{"version":3,"file":"main-Cb9RE0I6.js","sources":["../../src/js/components/header.js","../../src/js/api/api.js","../../src/js/components/quote.js","../../src/js/components/category-template.js","../../src/img/icons.svg","../../src/js/components/exercise-card.js","../../src/js/components/pagination.js","../../src/js/utilities/loader-cards.js","../../src/js/components/filter-panel.js","../../src/js/components/subscribe.js","../../src/js/utilities/to-top-btn.js","../../src/js/components/favorites.js","../../src/js/utilities/page-loader.js","../../src/js/components/exercise-modal-favorites.js","../../src/js/components/exercise-modal.js","../../src/js/components/search.js","../../src/main.js"],"sourcesContent":["const header = () => {\n  const mobileMenuBtn = document.querySelector('#mobile-menu-btn');\n  const mobileMenu = document.querySelector('#header-mobile-menu');\n\n  const navDesktop = document.querySelector('.header-nav');\n  const headerSocialDesktop = document.querySelector('.header-socials');\n\n  const menuLinks = mobileMenu.querySelectorAll('.header-socials-link');\n\n  const mobileBreakpoint = globalThis.matchMedia('(max-width: 768px)');\n\n  function openMenu() {\n    mobileMenuBtn.setAttribute('aria-expanded', 'true');\n    mobileMenu.dataset.expanded = 'true';\n  }\n\n  function closeMenu() {\n    mobileMenuBtn.setAttribute('aria-expanded', 'false');\n    mobileMenu.dataset.expanded = 'false';\n  }\n\n  function showMobileMenu() {\n    mobileMenuBtn.classList.remove('visually-hidden');\n\n    navDesktop.classList.add('visually-hidden');\n    headerSocialDesktop.classList.add('visually-hidden');\n  }\n\n  function hideMobileMenu() {\n    mobileMenuBtn.classList.add('visually-hidden');\n\n    navDesktop.classList.remove('visually-hidden');\n    headerSocialDesktop.classList.remove('visually-hidden');\n\n    closeMenu();\n  }\n\n  function updateActiveNav() {\n    const isOnFavorites = globalThis.location.pathname.includes('favorites');\n\n    document\n      .querySelector('#nav-desktop-home')\n      ?.classList.toggle('nav-active', !isOnFavorites);\n    document\n      .querySelector('#nav-desktop-favorites')\n      ?.classList.toggle('nav-active', isOnFavorites);\n\n    document\n      .querySelector('#nav-mobile-home')\n      ?.classList.toggle('nav-active', !isOnFavorites);\n    document\n      .querySelector('#nav-mobile-favorites')\n      ?.classList.toggle('nav-active', isOnFavorites);\n  }\n\n  function handleBreakpointChange(e) {\n    e.matches ? showMobileMenu() : hideMobileMenu();\n  }\n\n  mobileMenuBtn.addEventListener('click', () => {\n    const isExpanded = mobileMenuBtn.getAttribute('aria-expanded') === 'true';\n    isExpanded ? closeMenu() : openMenu();\n  });\n\n  menuLinks.forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n\n  document.addEventListener('keydown', e => {\n    if (\n      e.key === 'Escape' &&\n      mobileMenu.getAttribute('aria-expanded') === 'true'\n    ) {\n      closeMenu();\n    }\n  });\n\n  document.addEventListener('DOMContentLoaded', () => {\n    updateActiveNav();\n  });\n\n  handleBreakpointChange(mobileBreakpoint);\n  mobileBreakpoint.addEventListener('change', handleBreakpointChange);\n};\n\nexport default header;\n","import axios from 'axios';\n\nclass Api {\n  PAGE_DEFAULT = 1;\n  LIMIT_DEFAULT = 10;\n\n  constructor(baseURL) {\n    this.client = axios.create({\n      baseURL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  #filterUndefinedStringValues(obj = {}) {\n    return Object.fromEntries(\n      Object.entries(obj)\n        .map(([k, v]) => [k, this.#cleanString(v)])\n        .filter(([_, v]) => v !== undefined)\n    );\n  }\n\n  #cleanString(value = '') {\n    if (typeof value !== 'string') return undefined;\n    const trimmed = value.trim();\n    return trimmed.length ? trimmed : undefined;\n  }\n\n  #cleanNumber(value, defaultValue) {\n    const num = Number(value);\n    return Number.isFinite(num) ? num : defaultValue;\n  }\n\n  async getExercisesByFilters(payload = {}) {\n    const { page, limit, ...rest } = payload;\n\n    const params = {\n      ...this.#filterUndefinedStringValues(rest),\n      page: this.#cleanNumber(page, this.PAGE_DEFAULT),\n      limit: this.#cleanNumber(limit, this.LIMIT_DEFAULT),\n    };\n\n    try {\n      const response = await this.client.get('exercises', { params });\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async getExercisesById(id = '') {\n    const cleanId = this.#cleanString(id);\n    if (!cleanId) {\n      return {};\n    }\n\n    try {\n      const response = await this.client.get(`exercises/${id}`);\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async getFiltersOfExercises(payload = {}) {\n    const { filter, page, limit } = payload;\n\n    const params = {\n      filter: this.#cleanString(filter),\n      page: this.#cleanNumber(page, this.PAGE_DEFAULT),\n      limit: this.#cleanNumber(limit, this.LIMIT_DEFAULT),\n    };\n\n    try {\n      const response = await this.client.get('filters', { params });\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async getQuote() {\n    const response = await this.client.get('quote');\n    return response.data;\n  }\n\n  async subscribe(email = '') {\n    try {\n      const response = await this.client.post('subscription', { email });\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async addRating(id, payload = {}) {\n    try {\n      const response = await this.client.patch(`exercises/${id}/rating`, payload);\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n}\n\nexport const api = new Api('https://your-energy.b.goit.study/api/');\n","import { api } from '../api/api.js';\n\nconst quote = () => {\n  const QUOTE_PLACEHOLDER = `A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.`;\n  const AUTHOR_PLACEHOLDER = 'Tom Brady';\n\n  document.addEventListener('DOMContentLoaded', async () => {\n    const today = new Date().toISOString().slice(0, 10); // YYYY-MM-DD\n    const saved = JSON.parse(localStorage.getItem('dailyQuote'));\n\n    if (saved && saved.date === today) {\n      document.getElementById('quote-text').textContent = saved.quote;\n      document.getElementById('quote-author').textContent = saved.author;\n      return;\n    }\n\n    try {\n      const { quote, author } = await api.getQuote();\n\n      document.getElementById('quote-text').textContent = quote;\n      document.getElementById('quote-author').textContent = author;\n\n      localStorage.setItem(\n        'dailyQuote',\n        JSON.stringify({ quote, author, date: today })\n      );\n    } catch (err) {\n      console.error('Error loading quote:', err);\n\n      document.getElementById('quote-text').textContent = QUOTE_PLACEHOLDER;\n      document.getElementById('quote-author').textContent = AUTHOR_PLACEHOLDER;\n    }\n  });\n};\n\nexport default quote;\n","const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport function createCategoryCardMarkup(item, filterName) {\n  const { name, imgURL } = item;\n\n  return `<li class=\"categories-item\">\n            <a\n              href=\"javascript:void(0);\"\n              class=\"category-card\"\n              data-name=\"${name}\"\n              aria-label=\"Category ${name}\">\n\n                <div class=\"card-image-wrapper\">\n                    <img src=\"${imgURL}\" alt=\"${name}\">\n                    <div class=\"card-overlay\"></div>\n                </div>\n\n                <div class=\"card-content\">\n                    <h3 class=\"category-title\">${name}</h3>\n                    <p class='category-filter'>${filterName}</p>\n                </div>\n            </a>\n        </li>`;\n}\n","export default \"__VITE_ASSET__CXYC4NSK__\"","import iconSprite from '/img/icons.svg';\n\nexport function renderExerciseCard(payload) {\n  const { id, isHomePage = true, rating, name, burnedCalories, time, bodyPart, target } =\n    payload;\n  return `\n  <li class=\"exercise-card\" data-id=\"${id}\">\n    <div class=\"exercise-card__header\">\n      <div class=\"exercise-card__workout-and-rating\">\n        <div class=\"exercise-card__workout\">\n          <span class=\"exercise-card__workout__text\">WORKOUT</span>\n        </div>\n        ${getRatingOrTrashIcon(isHomePage, rating)}\n      </div>\n      <button class=\"exercise-card__start\">\n        <span class=\"exercise-card__start__text\">Start</span>\n        <svg class=\"exercise-card__start__icon\" width=\"16\" height=\"16\">\n          <use href=\"${iconSprite}#icon-arrow-black\"></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"exercise-card__body\">\n      <div class=\"exercise-card__icon-runner__container\">\n        <svg class=\"exercise-card__icon-runner\" width=\"16\" height=\"16\">\n          <use href=\"${iconSprite}#icon-runner\"></use>\n        </svg>\n      </div>\n      <p class=\"exercise-card__title\">\n        ${capitalizeFirstLetter(name)}\n      </p>\n    </div>\n    <ul class=\"exercise-card__footer__list\">\n      <li class=\"exercise-card__footer__item\">\n        <span\n          class=\"exercise-card__footer__text exercise-card__footer__text__key\"\n          >Burned calories:</span\n        ><span\n          class=\"exercise-card__footer__text exercise-card__footer__text__value\"\n          >${burnedCalories} / ${time} min</span\n        >\n      </li>\n      <li class=\"exercise-card__footer__item\">\n        <span\n          class=\"exercise-card__footer__text exercise-card__footer__text__key\"\n          >Body part:</span\n        ><span\n          class=\"exercise-card__footer__text exercise-card__footer__text__value\"\n          >${bodyPart}</span\n        >\n      </li>\n      <li class=\"exercise-card__footer__item\">\n        <span\n          class=\"exercise-card__footer__text exercise-card__footer__text__key\"\n          >Target:</span\n        ><span\n          class=\"exercise-card__footer__text exercise-card__footer__text__value\"\n          >${target}</span\n        >\n      </li>\n    </ul>\n  </li>\n  `;\n}\n\nfunction getRatingOrTrashIcon(isHomePage, rating) {\n  return isHomePage\n    ? `<div class=\"exercise-card__rating\">\n          <span class=\"exercise-card__rating__number\">${rating}</span>\n          <svg width=\"13\" height=\"13\">\n            <use fill=\"#EEA10C\" href=\"${iconSprite}#icon-star\"></use>\n          </svg>\n        </div>`\n    : `<svg class=\"exercise-card__trash-icon\" width=\"16\" height=\"16\">\n          <use href=\"${iconSprite}#icon-trash\"></use>\n        </svg>`;\n}\n\nfunction capitalizeFirstLetter(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}","export function renderPagination({ container, currentPage, totalPages, onPageChange }) {\n  if (!container) return;\n\n  currentPage = Number(currentPage) || 1;\n  totalPages = Number(totalPages) || 1;\n\n  if (!totalPages || totalPages <= 1) {\n    container.innerHTML = '';\n    container.hidden = true;\n    return;\n  }\n\n  container.hidden = false;\n\n  const makeBtn = (label, page, extraClass = '', disabled = false, isActive = false) => {\n    const disabledAttr = disabled ? 'disabled' : '';\n    const activeClass = isActive ? ' ex-pagination__btn--active' : '';\n    const pageAttr = page ? `data-page=\"${page}\"` : '';\n    return `<button type=\"button\" class=\"ex-pagination__btn ${extraClass}${activeClass}\" ${pageAttr} ${disabledAttr}>${label}</button>`;\n  };\n\n  let pages = [];\n  let showLeftDots = false;\n  let showRightDots = false;\n\n  if (totalPages <= 3) {\n    for (let p = 1; p <= totalPages; p += 1) {\n      pages.push(p);\n    }\n  } else if (currentPage <= 2) {\n    pages = [1, 2, 3];\n    showRightDots = true;\n  } else if (currentPage >= totalPages - 1) {\n    pages = [totalPages - 2, totalPages - 1, totalPages];\n    showLeftDots = true;\n  } else {\n    pages = [currentPage - 1, currentPage, currentPage + 1];\n    showLeftDots = true;\n    showRightDots = true;\n  }\n\n  let html = '';\n\n  html += makeBtn('¬´', 1, 'ex-pagination__btn--arrow', currentPage === 1);\n  html += makeBtn('‚Äπ', currentPage - 1, 'ex-pagination__btn--arrow', currentPage === 1);\n\n  if (showLeftDots) {\n    html += '<span class=\"ex-pagination__ellipsis\">‚Ä¶</span>';\n  }\n\n  pages.forEach(page => {\n    html += makeBtn(String(page), page, '', false, page === currentPage);\n  });\n\n  if (showRightDots) {\n    html += '<span class=\"ex-pagination__ellipsis\">‚Ä¶</span>';\n  }\n\n  html += makeBtn('‚Ä∫', currentPage + 1, 'ex-pagination__btn--arrow', currentPage === totalPages);\n  html += makeBtn('¬ª', totalPages, 'ex-pagination__btn--arrow', currentPage === totalPages);\n\n  container.innerHTML = html;\n\n  container.onclick = event => {\n    const btn = event.target.closest('.ex-pagination__btn');\n    if (!btn || btn.disabled) return;\n\n    const page = Number(btn.dataset.page);\n    if (!page || page === currentPage) return;\n\n    onPageChange(page);\n  };\n}\n","export function showLoader() {\n  const wrapper = document.querySelector('.exercises-list-wrapper');\n  const filtersGrid = wrapper.querySelector('#filtersGrid');\n  const pagination = wrapper.querySelector('#exercisesPagination');\n\n  if (!wrapper) return;\n\n  // –≤–∏–¥–∞–ª—è—î–º–æ –∫–∞—Ä—Ç–∫–∏ —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é\n  if (filtersGrid) filtersGrid.innerHTML = '';\n  if (pagination) pagination.innerHTML = '';\n\n  // –¥–æ–¥–∞—î–º–æ –ª–æ–∞–¥–µ—Ä, —è–∫—â–æ –π–æ–≥–æ —â–µ –Ω–µ–º–∞—î\n  let loader = wrapper.querySelector('.loader-cards');\n  if (!loader) {\n    loader = document.createElement('div');\n    loader.classList.add('loader-cards');\n    wrapper.appendChild(loader);\n  }\n};\n\nexport function hideLoader() {\n  const loader = document.querySelector('.exercises-list-wrapper .loader-cards');\n  if (loader) loader.remove();\n};\n","import { api } from '../api/api.js';\nimport { createCategoryCardMarkup } from './category-template.js';\nimport { renderExerciseCard } from './exercise-card.js';\nimport { renderPagination } from './pagination';\nimport { showLoader, hideLoader } from '../utilities/loader-cards.js';\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str[0].toUpperCase() + str.slice(1);\n}\n\nexport function renderExercises(exercises) {\n  const filtersGrid = document.getElementById('filtersGrid');\n  if (!filtersGrid) return;\n\n  if (!exercises.length) {\n    filtersGrid.innerHTML = '<p>There are no exercises in this category</p>';\n    return;\n  }\n\n  filtersGrid.dataset.exercises = 'true';\n  filtersGrid.innerHTML = exercises\n    .map(ex => renderExerciseCard({ isHomePage: true, id: ex._id, ...ex }))\n    .join('');\n}\n\nconst filterPanel = () => {\n  const filtersBlock = document.getElementById('filters');\n  const filtersGrid = document.getElementById('filtersGrid');\n  const selectedSubcategoryEl = document.getElementById('selectedSubcategory');\n  const searchContainer = document.getElementById('searchContainer');\n  const searchInput = document.getElementById('searchInput');\n  const searchIcon = document.querySelector('.search-icon');\n  const exercisesTitle = document.querySelector('.exercises-title');\n  const paginationContainer = document.getElementById('exercisesPagination');\n\n  const CATEGORY_LIMIT_BACKEND = 12;\n  const EXERCISE_LIMIT_BACKEND = 10;\n\n  const isMobile = () => window.matchMedia('(max-width: 767px)').matches;\n  const getCategoryPageSize = () => (isMobile() ? 9 : 12);\n  const getExercisePageSize = () => (isMobile() ? 8 : 10);\n\n  let currentFilter = 'Muscles';\n  let currentExercises = [];\n  let currentSubcategory = '';\n\n  let currentPage = 1;\n  let totalPages = 1;\n  let lastIsMobile = isMobile();\n\n  function setActiveButton(activeBtn) {\n    document\n      .querySelectorAll('.filter-btn')\n      .forEach(btn => btn.classList.remove('filter-btn--active'));\n    activeBtn.classList.add('filter-btn--active');\n  }\n\n  async function loadFilterCards(filterName, page = 1) {\n    showLoader();\n    try {\n      const data = await api.getFiltersOfExercises({\n        filter: filterName,\n        page,\n        limit: CATEGORY_LIMIT_BACKEND,\n      });\n\n      const rawItems = data.results || [];\n      const pageSize = getCategoryPageSize();\n      const items =\n        pageSize < CATEGORY_LIMIT_BACKEND\n          ? rawItems.slice(0, pageSize)\n          : rawItems;\n\n      renderFilterCards(items, filterName);\n\n      const total = data.total ?? rawItems.length;\n      currentPage = data.page ?? page;\n      totalPages = data.totalPages ?? (total ? Math.ceil(total / pageSize) : 1);\n\n      if (paginationContainer && totalPages > 1) {\n        renderPagination({\n          container: paginationContainer,\n          currentPage,\n          totalPages,\n          onPageChange: newPage => {\n            loadFilterCards(filterName, newPage);\n            filtersBlock.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start',\n            });\n          },\n        });\n      } else if (paginationContainer) {\n        paginationContainer.innerHTML = '';\n        paginationContainer.hidden = true;\n      }\n    } catch (err) {\n      console.error('Error loading filters:', err);\n      filtersGrid.innerHTML = '<p>Failed to load filters</p>';\n\n      if (paginationContainer) {\n        paginationContainer.innerHTML = '';\n        paginationContainer.hidden = true;\n      }\n    } finally {\n      hideLoader();\n    }\n  }\n\n  function renderFilterCards(items, filterName) {\n    if (paginationContainer) {\n      paginationContainer.innerHTML = '';\n      paginationContainer.hidden = true;\n    }\n\n    if (!items.length) {\n      filtersGrid.innerHTML = '<p>There are no categories</p>';\n      return;\n    }\n\n    filtersGrid.dataset.exercises = 'false';\n    filtersGrid.innerHTML = items\n      .map(item => createCategoryCardMarkup(item, filterName))\n      .join('');\n  }\n\n  async function loadExercisesForSubcategory(\n    filterType,\n    subcategoryName,\n    page = 1\n  ) {\n    showLoader();\n    const payload = {\n      page,\n      limit: EXERCISE_LIMIT_BACKEND,\n    };\n\n    if (filterType === 'Body parts') {\n      payload.bodypart = subcategoryName;\n    } else if (filterType === 'Muscles') {\n      payload.target = subcategoryName;\n    } else if (filterType === 'Equipment') {\n      payload.equipment = subcategoryName;\n    }\n\n    try {\n      const data = await api.getExercisesByFilters(payload);\n      const rawItems = data.results || [];\n      const pageSize = getExercisePageSize();\n      const items =\n        pageSize < EXERCISE_LIMIT_BACKEND\n          ? rawItems.slice(0, pageSize)\n          : rawItems;\n\n      const total = data.total ?? rawItems.length;\n\n      currentExercises = items;\n      currentPage = data.page ?? page;\n      totalPages = data.totalPages ?? (total ? Math.ceil(total / pageSize) : 1);\n\n      renderExercises(currentExercises);\n\n      if (paginationContainer && totalPages > 1) {\n        renderPagination({\n          container: paginationContainer,\n          currentPage,\n          totalPages,\n          onPageChange: newPage => {\n            loadExercisesForSubcategory(\n              currentFilter,\n              currentSubcategory,\n              newPage\n            );\n            filtersBlock.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start',\n            });\n          },\n        });\n      } else if (paginationContainer) {\n        paginationContainer.innerHTML = '';\n        paginationContainer.hidden = true;\n      }\n    } catch (error) {\n      console.error('Error loading exercises:', error);\n      filtersGrid.innerHTML = '<p>Failed to load exercises</p>';\n      if (paginationContainer) {\n        paginationContainer.innerHTML = '';\n        paginationContainer.hidden = true;\n      }\n    } finally {\n      hideLoader();\n    }\n  }\n\n  function runExercisesSearch() {\n    const query = searchInput.value.toLowerCase().trim();\n\n    if (!query) {\n      renderExercises(currentExercises);\n      return;\n    }\n\n    const filtered = currentExercises.filter(ex =>\n      (ex.name || '').toLowerCase().includes(query)\n    );\n\n    renderExercises(filtered);\n  }\n\n  filtersBlock.addEventListener('click', async event => {\n    const btn = event.target.closest('.filter-btn');\n    if (!btn) return;\n\n    const newFilter = btn.dataset.filter;\n    if (!newFilter || newFilter === currentFilter) return;\n\n    currentFilter = newFilter;\n    setActiveButton(btn);\n\n    selectedSubcategoryEl.textContent = '';\n    currentSubcategory = '';\n    searchContainer.hidden = true;\n    searchInput.value = '';\n    currentExercises = [];\n\n    loadFilterCards(currentFilter, 1);\n  });\n\n  filtersGrid.addEventListener('click', async event => {\n    const card = event.target.closest('.category-card');\n    if (!card) return;\n\n    const name = card.dataset.name;\n    const prettyName = capitalize(name);\n\n    currentSubcategory = name;\n\n    selectedSubcategoryEl.textContent = prettyName;\n\n    searchContainer.hidden = false;\n    searchInput.value = '';\n\n    await loadExercisesForSubcategory(currentFilter, currentSubcategory, 1);\n  });\n\n  searchInput.addEventListener('input', runExercisesSearch);\n\n  searchInput.addEventListener('keydown', event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      runExercisesSearch();\n    }\n  });\n\n  if (searchIcon) {\n    searchIcon.addEventListener('click', runExercisesSearch);\n  }\n\n  document.addEventListener('DOMContentLoaded', () => {\n    loadFilterCards('Muscles', 1);\n  });\n\n  exercisesTitle.addEventListener('click', async () => {\n    const activeBtn = document.querySelector('.filter-btn--active');\n    const filter = activeBtn ? activeBtn.dataset.filter : currentFilter;\n\n    currentFilter = filter;\n\n    if (activeBtn) {\n      setActiveButton(activeBtn);\n    }\n\n    currentSubcategory = '';\n    selectedSubcategoryEl.textContent = '';\n\n    searchInput.value = '';\n    searchContainer.hidden = true;\n\n    currentExercises = [];\n\n    await loadFilterCards(filter, 1);\n  });\n\n  window.addEventListener('resize', () => {\n    const nowIsMobile = isMobile();\n    if (nowIsMobile === lastIsMobile) return;\n    lastIsMobile = nowIsMobile;\n\n    if (filtersGrid.dataset.exercises === 'true' && currentSubcategory) {\n      loadExercisesForSubcategory(currentFilter, currentSubcategory, 1);\n    } else {\n      loadFilterCards(currentFilter, 1);\n    }\n  });\n};\n\nexport default filterPanel;\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst subscribe = () => {\n  axios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\n  const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  function showToast(type, message) {\n    iziToast.show({\n      title: type === 'success' ? 'Success' : 'Error',\n      message,\n      position: 'topRight',\n      color: type === 'success' ? 'green' : 'red',\n      timeout: 4000,\n      pauseOnHover: true,\n      closeOnClick: true,\n    });\n  }\n\n  async function createSubscription(email) {\n    try {\n      const { data } = await axios.post('/subscription', { email });\n      showToast('success', data.message || 'Subscription created!');\n    } catch (error) {\n      if (error.response?.status === 409) {\n        showToast('error', 'You are already subscribed!');\n      } else {\n        const msg =\n          error.response?.data?.message ||\n          error.message ||\n          'Something went wrong!';\n        showToast('error', msg);\n      }\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', () => {\n    const form = document.querySelector('.footer-subscribe-form');\n    const input = form.querySelector('.footer-subscribe-input');\n\n    form.addEventListener('submit', async event => {\n      event.preventDefault();\n\n      const emailTrim = input.value.trim();\n\n      if (!emailPattern.test(emailTrim)) {\n        showToast(\n          'error',\n          'Please enter a valid email address. Example - info@goit.ua'\n        );\n        return;\n      }\n\n      await createSubscription(emailTrim);\n\n      input.value = '';\n    });\n  });\n};\n\nexport default subscribe;\n","const toTopBtn = () => {\n  const toTopBtn = document.querySelector('.to-top-btn');\n\n  if (toTopBtn) toTopBtn.addEventListener('click', scrollToTop);\n\n  window.addEventListener('scroll', showBtn);\n\n  function scrollToTop() {\n    document.body.scroll({ behavior: 'smooth', top: 0 });\n    document.documentElement.scroll({ behavior: 'smooth', top: 0 });\n  }\n\n  function showBtn() {\n    if (\n      document.body.scrollTop > 20 ||\n      document.documentElement.scrollTop > 20\n    ) {\n      toTopBtn.style.display = 'flex';\n    } else {\n      toTopBtn.style.display = 'none';\n    }\n  }\n};\n\nexport default toTopBtn;\n","import { renderExerciseCard } from './exercise-card.js';\n\nfunction favorites() {\n  let favorites = localStorage.getItem('favorites');\n  let parsedFavorites = favorites ? JSON.parse(favorites) : [];\n\n  const favoritesClearMessage = document.querySelector('.favorites-list-clear');\n  const favoritesList = document.querySelector('.favorites-list');\n  const favoritesPaginationContainer = document.querySelector('.favorites-pagination-block');\n\n  if (!favoritesList || !favoritesPaginationContainer) {\n    return;\n  }\n\n  let currentPage = 1;\n  const itemsPerPage = 10;\n\n  const renderList = () => {\n    if (!parsedFavorites || parsedFavorites.length === 0) {\n      favoritesList.innerHTML = '';\n      favoritesPaginationContainer.innerHTML = '';\n      if (favoritesClearMessage) favoritesClearMessage.style.display = 'block';\n      return;\n    } else {\n      if (favoritesClearMessage) favoritesClearMessage.style.display = 'none';\n    }\n\n    let pageData;\n\n    if (window.innerWidth >= 1440) {\n      pageData = parsedFavorites;\n      favoritesPaginationContainer.innerHTML = '';\n    }\n    else {\n      const totalPages = Math.ceil(parsedFavorites.length / itemsPerPage);\n\n      if (currentPage > totalPages) currentPage = totalPages || 1;\n\n      const startIndex = (currentPage - 1) * itemsPerPage;\n      const endIndex = startIndex + itemsPerPage;\n      pageData = parsedFavorites.slice(startIndex, endIndex);\n\n      renderPagination(totalPages);\n    }\n\n    const layout = pageData.map((favorite) => {\n      favorite.isHomePage = false;\n      favorite.id = favorite._id;\n      return renderExerciseCard(favorite);\n    });\n    favoritesList.innerHTML = layout.join('');\n  };\n\n  const renderPagination = (totalPages) => {\n    if (totalPages <= 1) {\n      favoritesPaginationContainer.innerHTML = '';\n      return;\n    }\n\n    let paginationHTML = '';\n    for (let i = 1; i <= totalPages; i++) {\n      const isActive = i === currentPage ? 'active' : '';\n      paginationHTML += `<button class=\"favorites-pagination-btn ${isActive}\" type=\"button\" data-page=\"${i}\">${i}</button>`;\n    }\n    favoritesPaginationContainer.innerHTML = paginationHTML;\n  };\n\n  const handleStorageUpdate = () => {\n    const updatedFavorites = localStorage.getItem('favorites');\n    parsedFavorites = updatedFavorites ? JSON.parse(updatedFavorites) : [];\n    renderList();\n  };\n\n  favoritesPaginationContainer.addEventListener('click', (event) => {\n    if (event.target.classList.contains('favorites-pagination-btn')) {\n      const clickedPage = Number(event.target.dataset.page);\n      if (clickedPage !== currentPage) {\n        currentPage = clickedPage;\n        renderList();\n        favoritesList.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }\n    }\n  });\n\n  favoritesList.addEventListener('click', (event) => {\n    const trashIcon = event.target.closest('.exercise-card__trash-icon');\n\n    if (trashIcon) {\n      const cardItem = trashIcon.closest('.exercise-card');\n      const cardId = cardItem.dataset.id;\n\n      parsedFavorites = parsedFavorites.filter((item) => String(item._id) !== String(cardId));\n      localStorage.setItem('favorites', JSON.stringify(parsedFavorites));\n\n      renderList();\n    }\n  });\n\n  window.addEventListener('resize', renderList);\n  window.addEventListener('favorites-updated', handleStorageUpdate);\n  window.addEventListener('storage', (event) => {\n    if (event.key === 'favorites') {\n      handleStorageUpdate();\n    }\n  });\n\n  renderList();\n}\n\nexport default favorites;","// Page loader functionality\n\nexport function initPageLoader() {\n  const loader = document.querySelector('.loader-page');\n\n  if (!loader) return;\n\n  // Hide loader when page is fully loaded\n  window.addEventListener('load', () => {\n    setTimeout(() => {\n      loader.classList.add('hidden');\n\n      // Remove from DOM after animation completes\n      setTimeout(() => {\n        loader.remove();\n      }, 500);\n    }, 500); // Show loader for at least 500ms\n  });\n}\n","import { api } from '../api/api.js';\nimport iconSprite from '/img/icons.svg';\n\nconst FAVORITES_KEY = 'favorites';\n\n// sprite icon ids (check these exist in your icons.svg)\nconst HEART_ICON = `${iconSprite}#icon-heart`;\nconst HEART_TRASH = `${iconSprite}#icon-trash`;\n\n/**\n * Save favorites array to localStorage\n * @param {Array} favorites\n */\nfunction saveFavorites(favorites) {\n  try {\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n  } catch (error) {\n    console.error('Failed to save favorites to localStorage:', error);\n  }\n}\n\n/**\n * Load favorites array from localStorage\n * @returns {Array}\n */\nfunction loadFavorites() {\n  try {\n    const raw = localStorage.getItem(FAVORITES_KEY);\n    if (!raw) return [];\n    const parsed = JSON.parse(raw);\n    return Array.isArray(parsed) ? parsed : [];\n  } catch (error) {\n    console.error('Failed to parse favorites from localStorage:', error);\n    return [];\n  }\n}\n\n/**\n * Check whether an exercise is in favorites\n * @param {Array} favorites\n * @param {string} id\n * @returns {boolean}\n */\nfunction isFavorite(favorites, id) {\n  return favorites.some(item => String(item._id) === String(id));\n}\n\n/**\n * Update favorite button text and icon in the modal\n * @param {HTMLButtonElement} button\n * @param {boolean} inFavorites\n */\nfunction updateFavoriteButton(button, inFavorites) {\n  if (!button) return;\n\n  button.dataset.favorite = inFavorites ? 'true' : 'false';\n\n  if (inFavorites) {\n    button.innerHTML = `\n      Remove from favorites\n      <svg class=\"exercise-modal__btn-icon\" width=\"20\" height=\"20\">\n        <use href=\"${HEART_TRASH}\"></use>\n      </svg>\n    `;\n  } else {\n    button.innerHTML = `\n      Add to favorites\n      <svg class=\"exercise-modal__btn-icon\" width=\"20\" height=\"20\">\n        <use href=\"${HEART_ICON}\"></use>\n      </svg>\n    `;\n  }\n}\n\n/**\n * Try to get the current exercise id from the modal\n * We expect that when the modal is opened this id is set in a data-attribute:\n *  - on the button #exerciseModalFavoriteBtn (data-id)\n *  - or on the modal container #exerciseModal (data-id)\n */\nfunction getCurrentExerciseId() {\n  const favoriteBtn = document.getElementById('exerciseModalFavoriteBtn');\n  if (favoriteBtn && favoriteBtn.dataset.id) {\n    return favoriteBtn.dataset.id;\n  }\n\n  const modal = document.getElementById('exerciseModal');\n  if (modal && modal.dataset.id) {\n    return modal.dataset.id;\n  }\n\n  // fallback: search any element inside the modal with data-id\n  if (modal) {\n    const withId = modal.querySelector('[data-id]');\n    if (withId) {\n      return withId.dataset.id;\n    }\n  }\n\n  // console.warn('exercise-modal-favorites: exercise id not found.');\n  return null;\n}\n\n/**\n * Click handler for the \"Add to favorites / Remove from favorites\" button\n * @param {MouseEvent} event\n */\nasync function onFavoriteButtonClick(event) {\n  const button = event.currentTarget;\n  const exerciseId = getCurrentExerciseId();\n\n  if (!exerciseId) return;\n\n  let favorites = loadFavorites();\n  const alreadyFavorite = isFavorite(favorites, exerciseId);\n\n  // disable button while performing request\n  button.disabled = true;\n\n  try {\n    if (alreadyFavorite) {\n      // remove from favorites\n      favorites = favorites.filter(\n        item => String(item._id) !== String(exerciseId)\n      );\n      saveFavorites(favorites);\n      updateFavoriteButton(button, false);\n    } else {\n      // add to favorites: fetch full exercise data from backend\n      const exercise = await api.getExercisesById(exerciseId);\n      if (!exercise || !exercise._id) {\n        console.error('Failed to load exercise data for favorites.');\n      } else {\n        favorites.push(exercise);\n        saveFavorites(favorites);\n        updateFavoriteButton(button, true);\n      }\n    }\n  } catch (error) {\n    console.error('Failed to toggle favorite exercise:', error);\n  } finally {\n    button.disabled = false;\n  }\n}\n\n/**\n * Synchronize the button state with localStorage\n * (can be called when opening the modal)\n */\nfunction syncButtonWithFavorites() {\n  const button = document.getElementById('exerciseModalFavoriteBtn');\n  if (!button) return;\n\n  const exerciseId = getCurrentExerciseId();\n  if (!exerciseId) return;\n\n  const favorites = loadFavorites();\n  const inFavorites = isFavorite(favorites, exerciseId);\n  updateFavoriteButton(button, inFavorites);\n}\n\n/**\n * Initialize modal logic\n */\nfunction initExerciseModalFavorites() {\n  const button = document.getElementById('exerciseModalFavoriteBtn');\n  if (!button) return;\n\n  // on page/script load ‚Äî synchronize the button\n  syncButtonWithFavorites();\n\n  // add click handler for the button\n  button.addEventListener('click', onFavoriteButtonClick);\n}\n\n// Initialize immediately when the module is loaded\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initExerciseModalFavorites);\n} else {\n  initExerciseModalFavorites();\n}\n\n// Also export function for external calls when opening the modal\nexport { syncButtonWithFavorites };\n","import MicroModal from 'micromodal';\nimport iziToast from 'izitoast';\nimport { api } from '../api/api.js';\nimport { syncButtonWithFavorites } from './exercise-modal-favorites.js';\nimport iconSprite from '/img/icons.svg';\n\nconst favoritesBtnText = {\n  add: 'Add to favorites',\n  remove: 'Remove from favorites',\n};\n\nexport function initExerciseModal() {\n  // Update static SVG icon paths to work in production\n  updateStaticIconPaths();\n\n  // Initialize MicroModal with config\n  MicroModal.init({\n    onShow: modal => console.info(`${modal.id} is shown`),\n    onClose: modal => console.info(`${modal.id} is hidden`),\n    closeTrigger: 'data-micromodal-close',\n    openClass: 'is-open',\n    disableScroll: true,\n    disableFocus: false,\n    awaitOpenAnimation: true,\n    awaitCloseAnimation: true,\n    debugMode: false,\n  });\n\n  // Set up event delegation for all \"Start\" buttons\n  document.addEventListener('click', async event => {\n    const startButton = event.target.closest('.exercise-card__start');\n\n    if (!startButton) return;\n\n    // Get the exercise card and its ID\n    const exerciseCard = startButton.closest('.exercise-card');\n\n    if (!exerciseCard) return;\n\n    const exerciseId = exerciseCard.dataset.id;\n\n    if (!exerciseId) {\n      console.error('Exercise ID not found');\n      return;\n    }\n\n    try {\n      // Fetch exercise data by ID\n      const exerciseData = await api.getExercisesById(exerciseId);\n\n      // Update modal with real data\n      // üëâ –ü–µ—Ä–µ–¥–∞—ë–º id –≤ –º–æ–¥–∞–ª–∫—É –∏ –∫–Ω–æ–ø–∫—É \"Add to favorites\"\n      const modal = document.getElementById('exerciseModal');\n      modal.dataset.id = exerciseId;\n\n      const favoriteBtn = document.getElementById('exerciseModalFavoriteBtn');\n      favoriteBtn.dataset.id = exerciseId;\n\n      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª–∫–∏\n      updateModalContent(exerciseData);\n\n      // üëâ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Å localStorage\n      syncButtonWithFavorites();\n\n      // Open the modal\n      MicroModal.show('exerciseModal');\n    } catch (error) {\n      console.error('Error loading exercise details:', error);\n    }\n  });\n\n  // Set up event handler for \"Give a rating\" button\n  document.addEventListener('click', event => {\n    const ratingButton = event.target.closest('#exerciseModalRatingBtn');\n\n    if (!ratingButton) return;\n\n    // Get current exercise rating from the modal\n    const ratingValue =\n      document.getElementById('exerciseModalRating')?.textContent || '0.0';\n\n    // Hide exercise modal container and show rating modal container\n    // This keeps the backdrop visible for smooth transition\n    const exerciseModalContainer = document.querySelector(\n      '#exerciseModal .modal__container'\n    );\n    const ratingModalContainer = document.querySelector(\n      '#ratingModal .modal__container'\n    );\n\n    if (exerciseModalContainer && ratingModalContainer) {\n      // Ensure rating modal container starts hidden (fixes first-open flicker)\n      if (!ratingModalContainer.style.display) {\n        ratingModalContainer.style.display = 'none';\n      }\n\n      // Hide exercise modal content with fade out\n      exerciseModalContainer.style.animation =\n        'mmfadeOut 0.2s cubic-bezier(0.0, 0.0, 0.2, 1)';\n\n      setTimeout(() => {\n        exerciseModalContainer.style.display = 'none';\n\n        // Initialize rating modal with empty stars\n        initRatingModalStars(parseFloat(ratingValue));\n\n        // Show rating modal (programmatically without closing exercise modal backdrop)\n        const ratingModal = document.getElementById('ratingModal');\n        const exerciseModal = document.getElementById('exerciseModal');\n\n        // Keep exercise modal open in background (for smooth transition back)\n        if (!exerciseModal.classList.contains('is-open')) {\n          exerciseModal.classList.add('is-open');\n        }\n\n        ratingModal.classList.add('is-open');\n        ratingModal.setAttribute('aria-hidden', 'false');\n\n        // Show rating modal content with fade in\n        ratingModalContainer.style.display = 'block';\n        ratingModalContainer.style.animation =\n          'mmfadeIn 0.2s cubic-bezier(0.0, 0.0, 0.2, 1)';\n      }, 200);\n    }\n  });\n\n  // Set up event handler for \"Add to favorites\" button\n  // const modal = document.getElementById('exerciseModal');\n  // modal.addEventListener('click', event => {\n  //   const addToFavoritesBtn = event.target.closest('#exerciseModalFavoriteBtn');\n\n  //   debugger;\n\n  //   if (!addToFavoritesBtn) {\n  //     return;\n  //   }\n\n  //   const addToFavoritesBtnText = addToFavoritesBtn.querySelector(\n  //     '.exerciseModalFavoriteBtn__text'\n  //   );\n\n  //   const heartIcon = addToFavoritesBtn.querySelector(\n  //     '.exercise-modal__btn__heart-icon'\n  //   );\n  //   const trashIcon = addToFavoritesBtn.querySelector(\n  //     '.exercise-card__btn__trash-icon'\n  //   );\n\n  //   const modal = document.getElementById('exerciseModal');\n  //   const exerciseId = modal?.dataset.exerciseId;\n\n  //   if (!exerciseId) {\n  //     console.error('Exercise ID not found');\n  //     return;\n  //   }\n\n  //   // Get the current array from localStorage or create a new one\n  //   const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  //   // Check if the exercise is already in favorites by _id\n  //   const existingIndex = favorites.findIndex(item => item._id === exerciseId);\n\n  //   const rating =\n  //     parseFloat(document.getElementById('exerciseModalRating')?.textContent) ||\n  //     0;\n  //   const name =\n  //     document.getElementById('exerciseModal-title')?.textContent || '';\n  //   const burnedCalories =\n  //     document\n  //       .getElementById('exerciseModalCalories')\n  //       ?.textContent?.split('/')[0] || '';\n  //   const time =\n  //     document\n  //       .getElementById('exerciseModalCalories')\n  //       ?.textContent?.split('/')[1] || '';\n  //   const bodyPart =\n  //     document.getElementById('exerciseModalBodyPart')?.textContent || '';\n  //   const target =\n  //     document.getElementById('exerciseModalTarget')?.textContent || '';\n\n  //   if (existingIndex === -1) {\n  //     // If not in favorites, add the full object\n  //     const exerciseObj = {\n  //       _id: exerciseId,\n  //       rating,\n  //       name,\n  //       burnedCalories,\n  //       target,\n  //       bodyPart,\n  //       time,\n  //     };\n\n  //     favorites.push(exerciseObj);\n  //     // addToFavoritesBtnText.textContent = favoritesBtnText.remove;\n  //     // heartIcon.style.display = 'none';\n  //     // trashIcon.style.display = 'block';\n  //   } else {\n  //     // If already in favorites, remove it\n  //     favorites.splice(existingIndex, 1);\n  //     // addToFavoritesBtnText.textContent = favoritesBtnText.add;\n  //     // heartIcon.style.display = 'block';\n  //     // trashIcon.style.display = 'none';\n  //   }\n\n  //   // Save back to localStorage\n  //   localStorage.setItem('favorites', JSON.stringify(favorites));\n  //   // Dispatching event for tracking changes in localStorage to rerender favorites on delete\n  //   window.dispatchEvent(new Event('favorites-updated'));\n  // });\n}\n\n// Helper function to initialize rating modal with empty interactive stars\nfunction initRatingModalStars(currentRating) {\n  const ratingValueEl = document.getElementById('ratingModalCurrentValue');\n  if (ratingValueEl) {\n    ratingValueEl.textContent = '0.0';\n  }\n\n  const starsContainer = document.getElementById('ratingModalCurrentStars');\n  if (!starsContainer) return;\n\n  // Store selected rating\n  let selectedRating = 0;\n\n  // Clear and rebuild stars as empty and interactive\n  starsContainer.innerHTML = '';\n\n  for (let i = 0; i < 5; i++) {\n    const starIndex = i + 1;\n\n    const starButton = document.createElement('button');\n    starButton.type = 'button';\n    starButton.className = 'rating-modal__star-btn';\n    starButton.setAttribute('data-rating', starIndex);\n    starButton.setAttribute('aria-label', `Rate ${starIndex} stars`);\n\n    const star = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    star.setAttribute('width', '18');\n    star.setAttribute('height', '18');\n    star.classList.add('exercise-modal__star', 'exercise-modal__star--empty');\n\n    const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n    use.setAttributeNS(\n      'http://www.w3.org/1999/xlink',\n      'xlink:href',\n      `${iconSprite}#icon-star`\n    );\n    star.appendChild(use);\n    starButton.appendChild(star);\n\n    // Click handler for rating\n    starButton.addEventListener('click', () => {\n      selectedRating = starIndex;\n      updateStarsFill(selectedRating);\n\n      // Update the rating value display\n      const ratingValueElement = document.querySelector(\n        '.rating-modal__rating-value'\n      );\n      if (ratingValueElement) {\n        ratingValueElement.textContent = selectedRating.toFixed(1);\n      }\n\n      // Store rating in a hidden field or data attribute for form submission\n      starsContainer.setAttribute('data-selected-rating', selectedRating);\n    });\n\n    starsContainer.appendChild(starButton);\n  }\n\n  // Helper to update star fills\n  function updateStarsFill(rating) {\n    const starButtons = starsContainer.querySelectorAll(\n      '.rating-modal__star-btn'\n    );\n    starButtons.forEach((btn, index) => {\n      const star = btn.querySelector('svg');\n      if (index < rating) {\n        star.classList.remove('exercise-modal__star--empty');\n        star.classList.add('exercise-modal__star--filled');\n      } else {\n        star.classList.add('exercise-modal__star--empty');\n        star.classList.remove('exercise-modal__star--filled');\n      }\n    });\n  }\n}\n\n// Function to update modal content dynamically\nexport function updateModalContent(data) {\n  if (!data) return;\n\n  // Saving exercise ID in modal\n  const modal = document.getElementById('exerciseModal');\n  if (modal && data._id) {\n    modal.dataset.exerciseId = data._id;\n  }\n\n  // Update image (GIF)\n  const image = document.getElementById('exerciseModalImage');\n  if (image && data.gifUrl) {\n    image.src = data.gifUrl;\n    image.alt = data.name || 'Exercise';\n  }\n\n  // Update title\n  const title = document.getElementById('exerciseModal-title');\n  if (title && data.name) {\n    title.textContent = capitalize(data.name);\n  }\n\n  // Update rating\n  const ratingValue = document.getElementById('exerciseModalRating');\n  if (ratingValue && data.rating) {\n    ratingValue.textContent = data.rating.toFixed(1);\n  }\n\n  // Update stars based on rating\n  updateStars(data.rating);\n\n  // Update badges\n  const target = document.getElementById('exerciseModalTarget');\n  if (target && data.target) {\n    target.textContent = capitalize(data.target);\n  }\n\n  const bodyPart = document.getElementById('exerciseModalBodyPart');\n  if (bodyPart && data.bodyPart) {\n    bodyPart.textContent = capitalize(data.bodyPart);\n  }\n\n  const equipment = document.getElementById('exerciseModalEquipment');\n  if (equipment && data.equipment) {\n    equipment.textContent = capitalize(data.equipment);\n  }\n\n  const popular = document.getElementById('exerciseModalPopular');\n  if (popular && data.popularity) {\n    popular.textContent = data.popularity;\n  }\n\n  const calories = document.getElementById('exerciseModalCalories');\n  if (calories && data.burnedCalories && data.time) {\n    calories.textContent = `${data.burnedCalories}/${data.time} min`;\n  }\n\n  // Update description\n  const description = document.getElementById('exerciseModalDescription');\n  if (description && data.description) {\n    description.textContent = data.description;\n  }\n\n  const addToFavoritesBtnText = document.querySelector(\n    '.exerciseModalFavoriteBtn__text'\n  );\n  const heartIcon = document.querySelector('.exercise-modal__btn__heart-icon');\n  const trashIcon = document.querySelector('.exercise-card__btn__trash-icon');\n\n  if (addToFavoritesBtnText && heartIcon && trashIcon) {\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    const existingIndex = favorites.findIndex(item => item._id === data._id);\n\n    if (existingIndex === -1) {\n      addToFavoritesBtnText.textContent = favoritesBtnText.add;\n      heartIcon.style.display = 'block';\n      trashIcon.style.display = 'none';\n    } else {\n      addToFavoritesBtnText.textContent = favoritesBtnText.remove;\n      heartIcon.style.display = 'none';\n      trashIcon.style.display = 'block';\n    }\n  }\n}\n\n// Helper function to capitalize text\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n// Helper function to update star ratings with partial fills\nfunction updateStars(rating) {\n  const starsContainer = document.getElementById('exerciseModalStars');\n  if (!starsContainer || !rating) return;\n\n  // Clear existing stars and rebuild\n  starsContainer.innerHTML = '';\n\n  for (let i = 0; i < 5; i++) {\n    const starWrapper = document.createElement('span');\n    starWrapper.className = 'exercise-modal__star-wrapper';\n    starWrapper.style.position = 'relative';\n    starWrapper.style.display = 'inline-block';\n    starWrapper.style.width = '18px';\n    starWrapper.style.height = '18px';\n\n    // Background star (dimmed)\n    const bgStar = document.createElementNS(\n      'http://www.w3.org/2000/svg',\n      'svg'\n    );\n    bgStar.setAttribute('width', '18');\n    bgStar.setAttribute('height', '18');\n    bgStar.classList.add('exercise-modal__star', 'exercise-modal__star--empty');\n\n    const bgUse = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n    bgUse.setAttributeNS(\n      'http://www.w3.org/1999/xlink',\n      'xlink:href',\n      `${iconSprite}#icon-star`\n    );\n    bgStar.appendChild(bgUse);\n\n    starWrapper.appendChild(bgStar);\n\n    // Calculate fill percentage for this star\n    const fillPercentage = Math.max(0, Math.min(100, (rating - i) * 100));\n\n    if (fillPercentage > 0) {\n      // Foreground star (yellow, clipped)\n      const fgStar = document.createElementNS(\n        'http://www.w3.org/2000/svg',\n        'svg'\n      );\n      fgStar.setAttribute('width', '18');\n      fgStar.setAttribute('height', '18');\n      fgStar.classList.add(\n        'exercise-modal__star',\n        'exercise-modal__star--filled'\n      );\n      fgStar.style.position = 'absolute';\n      fgStar.style.top = '0';\n      fgStar.style.left = '0';\n      fgStar.style.clipPath = `inset(0 ${100 - fillPercentage}% 0 0)`;\n\n      const fgUse = document.createElementNS(\n        'http://www.w3.org/2000/svg',\n        'use'\n      );\n      fgUse.setAttributeNS(\n        'http://www.w3.org/1999/xlink',\n        'xlink:href',\n        `${iconSprite}#icon-star`\n      );\n      fgStar.appendChild(fgUse);\n\n      starWrapper.appendChild(fgStar);\n    }\n\n    starsContainer.appendChild(starWrapper);\n  }\n}\n\nconst ratingForm = document.getElementById('ratingForm');\n\nif (ratingForm) {\n  ratingForm.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const email = document.getElementById('ratingEmail')?.value.trim();\n    const review = document.getElementById('ratingComment')?.value.trim();\n    const starsContainer = document.getElementById('ratingModalCurrentStars');\n    const rate = parseFloat(starsContainer?.dataset.selectedRating || '0');\n\n    if (!email || !rate) {\n      console.error('Please fill all fields and select a rating');\n      return;\n    }\n\n    const modal = document.getElementById('exerciseModal');\n    const exerciseId = modal?.dataset.exerciseId;\n\n    if (!exerciseId) {\n      return;\n    }\n\n    const payload = {\n      email,\n      review,\n      rate,\n    };\n\n    try {\n      await api.addRating(exerciseId, payload);\n\n      // Clear the form after successful submission\n      ratingForm.reset();\n\n      // Reset the rating stars to empty\n      const ratingValueElement = document.querySelector(\n        '.rating-modal__rating-value'\n      );\n      if (ratingValueElement) {\n        ratingValueElement.textContent = '0.0';\n      }\n\n      // Clear selected rating\n      starsContainer.removeAttribute('data-selected-rating');\n\n      // Reset all stars to empty state\n      const starButtons = starsContainer.querySelectorAll(\n        '.rating-modal__star-btn'\n      );\n      starButtons.forEach(btn => {\n        const star = btn.querySelector('svg');\n        if (star) {\n          star.classList.add('exercise-modal__star--empty');\n          star.classList.remove('exercise-modal__star--filled');\n        }\n      });\n\n      MicroModal.close('ratingModal');\n      iziToast.info({\n        title: 'Success',\n        message: 'Rating sent successfully',\n        position: 'topRight',\n      });\n\n      // After successful rating submission, close rating modal and return to exercise modal\n      closeRatingModalAndRestoreExercise();\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n        position: 'topRight',\n      });\n    }\n  });\n\n  // Add custom close handler for rating modal X button\n  const ratingModalCloseBtn = document.querySelector(\n    '#ratingModal .modal__close'\n  );\n  if (ratingModalCloseBtn) {\n    ratingModalCloseBtn.addEventListener('click', e => {\n      e.preventDefault();\n      closeRatingModalAndRestoreExercise();\n    });\n  }\n\n  // Add backdrop click handler - check both modal overlays\n  const exerciseModalOverlay = document.querySelector(\n    '#exerciseModal .modal__overlay'\n  );\n  if (exerciseModalOverlay) {\n    exerciseModalOverlay.addEventListener('click', e => {\n      if (e.target === exerciseModalOverlay) {\n        const ratingModal = document.getElementById('ratingModal');\n        // If rating modal is open, close it first\n        if (ratingModal && ratingModal.classList.contains('is-open')) {\n          closeRatingModalAndRestoreExercise();\n        } else {\n          // Otherwise close exercise modal normally\n          MicroModal.close('exerciseModal');\n        }\n      }\n    });\n  }\n}\n\n// Helper function to close rating modal and restore exercise modal smoothly\nfunction closeRatingModalAndRestoreExercise() {\n  const exerciseModal = document.getElementById('exerciseModal');\n  const ratingModal = document.getElementById('ratingModal');\n  const exerciseModalContainer = document.querySelector(\n    '#exerciseModal .modal__container'\n  );\n  const ratingModalContainer = document.querySelector(\n    '#ratingModal .modal__container'\n  );\n\n  // Check if we came from exercise modal (exercise modal is open in background)\n  const cameFromExerciseModal =\n    exerciseModal && exerciseModal.classList.contains('is-open');\n\n  if (cameFromExerciseModal && exerciseModalContainer && ratingModalContainer) {\n    // Transition back to exercise modal\n    ratingModalContainer.style.animation =\n      'mmfadeOut 0.2s cubic-bezier(0.0, 0.0, 0.2, 1)';\n\n    setTimeout(() => {\n      // Hide rating modal\n      ratingModal.classList.remove('is-open');\n      ratingModal.setAttribute('aria-hidden', 'true');\n      ratingModalContainer.style.display = 'none';\n\n      // Show exercise modal container again\n      exerciseModalContainer.style.display = 'block';\n      exerciseModalContainer.style.animation =\n        'mmfadeIn 0.2s cubic-bezier(0.0, 0.0, 0.2, 1)';\n    }, 200);\n  } else {\n    // If rating modal was opened directly (not from exercise modal), close normally\n    MicroModal.close('ratingModal');\n  }\n}\n\n// Update static icon paths in HTML to work with Vite build\nfunction updateStaticIconPaths() {\n  // Update close button icon\n  const closeButtonIcon = document.querySelector(\n    '#exerciseModal .modal__close use'\n  );\n  if (closeButtonIcon) {\n    closeButtonIcon.setAttribute('href', `${iconSprite}#icon-cross`);\n  }\n\n  // Update heart icon\n  const heartIcon = document.querySelector(\n    '.exercise-modal__btn__heart-icon use'\n  );\n  if (heartIcon) {\n    heartIcon.setAttribute('href', `${iconSprite}#icon-heart`);\n  }\n\n  // Update trash icon\n  const trashIcon = document.querySelector(\n    '.exercise-card__btn__trash-icon use'\n  );\n  if (trashIcon) {\n    trashIcon.setAttribute('href', `${iconSprite}#icon-trash`);\n  }\n\n  // Update rating modal close button\n  const ratingCloseIcon = document.querySelector(\n    '#ratingModal .modal__close use'\n  );\n  if (ratingCloseIcon) {\n    ratingCloseIcon.setAttribute('href', `${iconSprite}#icon-cross`);\n  }\n}\n","import { api } from '../api/api.js';\nimport iziToast from 'izitoast';\nimport { renderExercises } from './filter-panel.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { renderPagination } from './pagination.js';\n\n// console.log('iziToast >>>', iziToast);\n\n// –≠–ª–µ–º–µ–Ω—Ç—ã\nconst searchInput = document.getElementById('searchInput');\nconst searchBtn = document.querySelector('.search-btn');\nconst clearSearchBtn = document.querySelector('.search-clear-btn');\nconst filtersGrid = document.getElementById('filtersGrid');\nconst selectedSubcategoryEl = document.getElementById('selectedSubcategory');\nconst paginationContainer = document.getElementById('exercisesPagination');\n\n// ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–û–ï ====================\n\n// –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ (Muscles / Body parts / Equipment)\nfunction getCurrentFilter() {\n  const btn = document.querySelector('.filter-btn--active');\n  return btn ? btn.dataset.filter : 'Muscles';\n}\n\n// –ú–∞–ø–ø–∏–Ω–≥ –≤–∫–ª–∞–¥–∫–∏ ‚Üí –∏–º–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ API\n// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–º –Ω—É–∂–µ–Ω:\n// /api/exercises?muscles=abductors&keyword=3&page=1&limit=10\nfunction mapFilterToKey(filterName) {\n  switch (filterName) {\n    case 'Muscles':\n      return 'muscles';\n    case 'Body parts':\n      return 'bodypart';\n    case 'Equipment':\n      return 'equipment';\n    default:\n      return 'muscles';\n  }\n}\n\n// –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π\n// function renderExercises(exercises = []) {\n//   if (!exercises.length) {\n//     filtersGrid.innerHTML = '<p>–ù–µ–º–∞—î –≤–ø—Ä–∞–≤ –¥–ª—è —Ü—ñ—î—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</p>';\n//     return;\n//   }\n\n//   filtersGrid.innerHTML = exercises\n//     .map(\n//       ex => `\n//       <article class=\"exercise-card\">\n//         <h3 class=\"exercise-card-title\">${ex.name}</h3>\n//         <p class=\"exercise-card-meta\">\n//           ${ex.bodyPart || ''}${ex.bodyPart && ex.target ? ' ¬∑ ' : ''}${\n//         ex.target || ''\n//       }\n//         </p>\n//       </article>\n//     `\n//     )\n//     .join('');\n// }\n\n// –±–ª–∏–∂–∞–π—à–∏–π .search-wrapper –¥–ª—è –∫–ª–∞—Å—Å–∞ has-text\nfunction getSearchWrapper() {\n  return searchInput ? searchInput.closest('.search-wrapper') : null;\n}\n\n// –ø–æ–∫–∞–∑–∞—Ç—å / —Å–∫—Ä—ã—Ç—å –∫—Ä–µ—Å—Ç–∏–∫ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å .has-text\nfunction updateClearBtnState() {\n  const wrapper = getSearchWrapper();\n  if (!wrapper) return;\n\n  if (searchInput.value.trim()) {\n    wrapper.classList.add('has-text');\n  } else {\n    wrapper.classList.remove('has-text');\n  }\n}\n\n// ==================== –ó–ê–ì–†–£–ó–ö–ê –ë–ï–ó KEYWORD ====================\n\n// –≥—Ä—É–∑–∏–º –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ —Ç–µ–∫—É—â–µ–π –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–±–µ–∑ keyword)\nasync function loadExercisesForCurrentCategory(page = 1) {\n  const subcategory = selectedSubcategoryEl.textContent.trim().toLowerCase();\n  if (!subcategory) {\n    // –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –≤—ã–±—Ä–∞–Ω–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º\n    return;\n  }\n\n  const filterName = getCurrentFilter();\n  const filterKey = mapFilterToKey(filterName);\n\n  filtersGrid.innerHTML = '<p>Loading...</p>';\n\n  try {\n    const payload = {\n      page,\n      limit: 12,\n    };\n    payload[filterKey] = subcategory;\n\n    const data = await api.getExercisesByFilters(payload);\n    const items = Array.isArray(data.results) ? data.results : [];\n\n    renderExercises(items);\n\n    // pagination start\n    if (paginationContainer) {\n      const total = typeof data.total === 'number' ? data.total : items.length;\n      const currentPage = data.page ?? page;\n      const limit = data.limit ?? payload.limit ?? 12;\n      const totalPages =\n        typeof data.totalPages === 'number'\n          ? data.totalPages\n          : total\n          ? Math.ceil(total / limit)\n          : 0;\n\n      renderPagination({\n        container: paginationContainer,\n        currentPage,\n        totalPages,\n        onPageChange: newPage => {\n          loadExercisesForCurrentCategory(newPage);\n        },\n      });\n    }\n    // pagination end\n  } catch (error) {\n    console.error(error);\n    filtersGrid.innerHTML = '<p>Failed to load exercises</p>';\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load exercises',\n      position: 'topRight',\n    });\n  }\n}\n\n// ==================== –ü–û–ò–°–ö –ü–û API –° KEYWORD ====================\n\nasync function runApiSearch(page = 1) {\n  const keyword = searchInput.value.trim();\n  const subcategory = selectedSubcategoryEl.textContent.trim().toLowerCase();\n  const filterName = getCurrentFilter();\n  const filterKey = mapFilterToKey(filterName);\n\n  updateClearBtnState();\n\n  if (!subcategory) {\n    iziToast.info({\n      title: 'Select category',\n      message: 'Choose the category first',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  // –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Üí –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  if (!keyword) {\n    await loadExercisesForCurrentCategory(1);\n    return;\n  }\n\n  filtersGrid.innerHTML = '<p>Loading...</p>';\n\n  try {\n    const payload = {\n      page,\n      limit: 12,\n      keyword,\n    };\n    payload[filterKey] = subcategory;\n\n    const data = await api.getExercisesByFilters(payload);\n    const items = Array.isArray(data.results) ? data.results : [];\n\n    if (!items.length) {\n      filtersGrid.innerHTML = '<p>There are no results for your query</p>';\n\n      // pagination start\n      if (paginationContainer) {\n        renderPagination({\n          container: paginationContainer,\n          currentPage: 1,\n          totalPages: 0,\n          onPageChange: () => {},\n        });\n      }\n      // pagination end\n\n      return;\n    }\n\n    renderExercises(items);\n\n    // pagination start\n    if (paginationContainer) {\n      const total = typeof data.total === 'number' ? data.total : items.length;\n      const currentPage = data.page ?? page;\n      const limit = data.limit ?? payload.limit ?? 12;\n      const totalPages =\n        typeof data.totalPages === 'number'\n          ? data.totalPages\n          : total\n          ? Math.ceil(total / limit)\n          : 1;\n\n      renderPagination({\n        container: paginationContainer,\n        currentPage,\n        totalPages,\n        onPageChange: newPage => {\n          runApiSearch(newPage);\n        },\n      });\n    }\n    // pagination end\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Search failed',\n      position: 'topRight',\n    });\n  }\n}\n\n// ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò ====================\n\nif (searchInput) {\n  // input: –Ω—É–∂–µ–Ω –∏ –¥–ª—è Backspace, –∏ –¥–ª—è Ctrl+X –∏ —Ç.–ø.\n  searchInput.addEventListener(\n    'input',\n    async e => {\n      e.stopImmediatePropagation();\n      updateClearBtnState();\n\n      // –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å—Ç–∞–ª–∞ –ø—É—Å—Ç–æ–π ‚Üí —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è\n      if (!searchInput.value.trim()) {\n        await loadExercisesForCurrentCategory(1);\n      }\n    },\n    true\n  );\n\n  // Enter ‚Üí –ø–æ–∏—Å–∫ –ø–æ API\n  searchInput.addEventListener(\n    'keydown',\n    e => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        runApiSearch(1);\n      }\n    },\n    true\n  );\n}\n\nif (searchBtn) {\n  // –ö–ª–∏–∫ –ø–æ –ª—É–ø–µ ‚Üí –ø–æ–∏—Å–∫ –ø–æ API\n  searchBtn.addEventListener(\n    'click',\n    e => {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      runApiSearch(1);\n    },\n    true\n  );\n}\n\nif (clearSearchBtn && searchInput) {\n  // –ö–ª–∏–∫ –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É ‚Üí –æ—á–∏—Å—Ç–∫–∞ + –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è\n  clearSearchBtn.addEventListener(\n    'click',\n    async e => {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      searchInput.value = '';\n      updateClearBtnState();\n      await loadExercisesForCurrentCategory(1);\n      searchInput.focus();\n    },\n    true\n  );\n}\n","// ...\nimport header from './js/components/header.js';\nimport quote from './js/components/quote.js';\nimport filterPanel from './js/components/filter-panel.js';\nimport subscribe from './js/components/subscribe';\nimport toTopBtn from './js/utilities/to-top-btn.js';\nimport favorites from './js/components/favorites.js';\nimport { initPageLoader } from './js/utilities/page-loader.js';\nimport { initExerciseModal } from './js/components/exercise-modal.js';\nimport './js/components/search.js';\nimport './js/components/exercise-modal-favorites.js';\n\n// make a switch for the pages: home and favorties\n\nconst init = () => {\n  // INIT PAGE LOADER\n  initPageLoader();\n\n  // INIT PAGE-SPECIFIC COMPONENTS\n  const page = document.body.dataset.page;\n  if (page === 'home') {\n    filterPanel(); // filter panel on home page\n  } else if (page === 'favorites') {\n    console.log('PAGE FAVORITES');\n  }\n\n  // INIT COMMON COMPONENTS\n  header();\n  quote();\n  toTopBtn();\n  subscribe();\n  favorites();\n  initExerciseModal();\n};\n\ninit();\n"],"names":["header","mobileMenuBtn","mobileMenu","navDesktop","headerSocialDesktop","menuLinks","mobileBreakpoint","openMenu","closeMenu","showMobileMenu","hideMobileMenu","updateActiveNav","isOnFavorites","_a","_b","_c","_d","handleBreakpointChange","e","link","Api","baseURL","__privateAdd","_Api_instances","__publicField","axios","payload","page","limit","rest","params","__privateMethod","filterUndefinedStringValues_fn","cleanNumber_fn","error","id","cleanString_fn","filter","email","obj","k","v","_","value","trimmed","defaultValue","num","api","quote","QUOTE_PLACEHOLDER","AUTHOR_PLACEHOLDER","today","saved","author","err","createCategoryCardMarkup","item","filterName","name","imgURL","iconSprite","renderExerciseCard","isHomePage","rating","burnedCalories","time","bodyPart","target","getRatingOrTrashIcon","capitalizeFirstLetter","str","renderPagination","container","currentPage","totalPages","onPageChange","makeBtn","label","extraClass","disabled","isActive","disabledAttr","activeClass","pageAttr","pages","showLeftDots","showRightDots","p","html","event","btn","showLoader","wrapper","filtersGrid","pagination","loader","hideLoader","capitalize","renderExercises","exercises","ex","filterPanel","filtersBlock","selectedSubcategoryEl","searchContainer","searchInput","searchIcon","exercisesTitle","paginationContainer","CATEGORY_LIMIT_BACKEND","EXERCISE_LIMIT_BACKEND","isMobile","getCategoryPageSize","getExercisePageSize","currentFilter","currentExercises","currentSubcategory","lastIsMobile","setActiveButton","activeBtn","loadFilterCards","data","rawItems","pageSize","items","renderFilterCards","total","newPage","loadExercisesForSubcategory","filterType","subcategoryName","runExercisesSearch","query","filtered","newFilter","card","prettyName","nowIsMobile","subscribe","emailPattern","showToast","type","message","iziToast","createSubscription","msg","form","input","emailTrim","toTopBtn","scrollToTop","showBtn","favorites","parsedFavorites","favoritesClearMessage","favoritesList","favoritesPaginationContainer","itemsPerPage","renderList","pageData","startIndex","endIndex","layout","favorite","paginationHTML","i","handleStorageUpdate","updatedFavorites","clickedPage","trashIcon","cardId","initPageLoader","FAVORITES_KEY","HEART_ICON","HEART_TRASH","saveFavorites","loadFavorites","raw","parsed","isFavorite","updateFavoriteButton","button","inFavorites","getCurrentExerciseId","favoriteBtn","modal","withId","onFavoriteButtonClick","exerciseId","alreadyFavorite","exercise","syncButtonWithFavorites","initExerciseModalFavorites","favoritesBtnText","initExerciseModal","updateStaticIconPaths","MicroModal","startButton","exerciseCard","exerciseData","updateModalContent","exerciseModalContainer","ratingModalContainer","initRatingModalStars","ratingModal","exerciseModal","currentRating","ratingValueEl","starsContainer","selectedRating","starIndex","starButton","star","use","updateStarsFill","ratingValueElement","index","image","title","ratingValue","updateStars","equipment","popular","calories","description","addToFavoritesBtnText","heartIcon","starWrapper","bgStar","bgUse","fillPercentage","fgStar","fgUse","ratingForm","review","rate","closeRatingModalAndRestoreExercise","ratingModalCloseBtn","exerciseModalOverlay","closeButtonIcon","ratingCloseIcon","searchBtn","clearSearchBtn","getCurrentFilter","mapFilterToKey","getSearchWrapper","updateClearBtnState","loadExercisesForCurrentCategory","subcategory","filterKey","runApiSearch","keyword","init"],"mappings":"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"}