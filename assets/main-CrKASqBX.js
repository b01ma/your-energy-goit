var ne=Object.defineProperty;var j=t=>{throw TypeError(t)};var ie=(t,e,s)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var $=(t,e,s)=>ie(t,typeof e!="symbol"?e+"":e,s),oe=(t,e,s)=>e.has(t)||j("Cannot "+s);var K=(t,e,s)=>e.has(t)?j("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s);var w=(t,e,s)=>(oe(t,e,"access private method"),s);import{a as N,i as q}from"./vendor-CVmyF-gC.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const ae=()=>{const t=document.querySelector("#mobile-menu-btn"),e=document.querySelector("#header-mobile-menu"),s=document.querySelector(".header-nav"),n=document.querySelector(".header-socials"),r=e.querySelectorAll(".header-socials-link"),i=globalThis.matchMedia("(max-width: 768px)");function a(){t.setAttribute("aria-expanded","true"),e.dataset.expanded="true"}function o(){t.setAttribute("aria-expanded","false"),e.dataset.expanded="false"}function g(){t.classList.remove("visually-hidden"),s.classList.add("visually-hidden"),n.classList.add("visually-hidden")}function l(){t.classList.add("visually-hidden"),s.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"),o()}function u(){var h,v,_,L;const p=globalThis.location.pathname.includes("favorites");(h=document.querySelector("#nav-desktop-home"))==null||h.classList.toggle("nav-active",!p),(v=document.querySelector("#nav-desktop-favorites"))==null||v.classList.toggle("nav-active",p),(_=document.querySelector("#nav-mobile-home"))==null||_.classList.toggle("nav-active",!p),(L=document.querySelector("#nav-mobile-favorites"))==null||L.classList.toggle("nav-active",p)}function d(p){p.matches?g():l()}t.addEventListener("click",()=>{t.getAttribute("aria-expanded")==="true"?o():a()}),r.forEach(p=>{p.addEventListener("click",o)}),document.addEventListener("keydown",p=>{p.key==="Escape"&&e.getAttribute("aria-expanded")==="true"&&o()}),document.addEventListener("DOMContentLoaded",()=>{u()}),d(i),i.addEventListener("change",d)};var y,W,k,C;class ce{constructor(e){K(this,y);$(this,"PAGE_DEFAULT",1);$(this,"LIMIT_DEFAULT",10);this.client=N.create({baseURL:e,headers:{"Content-Type":"application/json"}})}async getExercisesByFilters(e={}){const{page:s,limit:n,...r}=e,i={...w(this,y,W).call(this,r),page:w(this,y,C).call(this,s,this.PAGE_DEFAULT),limit:w(this,y,C).call(this,n,this.LIMIT_DEFAULT)};try{return(await this.client.get("exercises",{params:i})).data}catch(a){throw new Error(a.response.data.message)}}async getExercisesById(e=""){if(!w(this,y,k).call(this,e))return{};try{return(await this.client.get(`exercises/${e}`)).data}catch(n){throw new Error(n.response.data.message)}}async getFiltersOfExercises(e={}){const{filter:s,page:n,limit:r}=e,i={filter:w(this,y,k).call(this,s),page:w(this,y,C).call(this,n,this.PAGE_DEFAULT),limit:w(this,y,C).call(this,r,this.LIMIT_DEFAULT)};try{return(await this.client.get("filters",{params:i})).data}catch(a){throw new Error(a.response.data.message)}}async getQuote(){return(await this.client.get("quote")).data}async subscribe(e=""){try{return(await this.client.post("subscription",{email:e})).data}catch(s){throw new Error(s.response.data.message)}}}y=new WeakSet,W=function(e={}){return Object.fromEntries(Object.entries(e).map(([s,n])=>[s,w(this,y,k).call(this,n)]).filter(([s,n])=>n!==void 0))},k=function(e=""){if(typeof e!="string")return;const s=e.trim();return s.length?s:void 0},C=function(e,s){const n=Number(e);return Number.isFinite(n)?n:s};const A=new ce("https://your-energy.b.goit.study/api/"),le=()=>{const t="A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.",e="Tom Brady";document.addEventListener("DOMContentLoaded",async()=>{const s=new Date().toISOString().slice(0,10),n=JSON.parse(localStorage.getItem("dailyQuote"));if(n&&n.date===s){document.getElementById("quote-text").textContent=n.quote,document.getElementById("quote-author").textContent=n.author;return}try{const{quote:r,author:i}=await A.getQuote();document.getElementById("quote-text").textContent=r,document.getElementById("quote-author").textContent=i,localStorage.setItem("dailyQuote",JSON.stringify({quote:r,author:i,date:s}))}catch(r){console.error("Error loading quote:",r),document.getElementById("quote-text").textContent=t,document.getElementById("quote-author").textContent=e}})};function de(t,e){const{name:s,imgURL:n}=t;return`<li class="categories-item">
            <a
              href="javascript:void(0);"
              class="category-card"
              data-name="${s}"
              aria-label="Category ${s}">

                <div class="card-image-wrapper">
                    <img src="${n}" alt="${s}">
                    <div class="card-overlay"></div>
                </div>

                <div class="card-content">
                    <h3 class="category-title">${s}</h3>
                    <p class='category-filter'>${e}</p>
                </div>
            </a>
        </li>`}function Y(t){const{id:e,isHomePage:s,rating:n,name:r,burnedCalories:i,time:a,bodyPart:o,target:g}=t;return`
  <li class="exercise-card" data-id="${e}">
    <div class="exercise-card__header">
      <div class="exercise-card__workout-and-rating">
        <div class="exercise-card__workout">
          <span class="exercise-card__workout__text">WORKOUT</span>
        </div>
        ${ue(s,n)}
      </div>
      <button class="exercise-card__start">
        <span class="exercise-card__start__text">Start</span>
        <svg class="exercise-card__start__icon" width="16" height="16">
          <use href="./img/icons.svg#icon-arrow-black"></use>
        </svg>
      </button>
    </div>
    <div class="exercise-card__body">
      <div class="exercise-card__icon-runner__container">
        <svg class="exercise-card__icon-runner" width="16" height="16">
          <use href="./img/icons.svg#icon-runner"></use>
        </svg>
      </div>
      <p class="exercise-card__title">
        ${r}
      </p>
    </div>
    <ul class="exercise-card__footer__list">
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Burned calories:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${i} / ${a} min</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Body part:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${o}</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Target:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${g}</span
        >
      </li>
    </ul>
  </li>
  `}function ue(t,e){return t?`<div class="exercise-card__rating">
          <span class="exercise-card__rating__number">${e}</span>
          <svg width="13" height="13">
            <use fill="#EEA10C" href="./img/icons.svg#icon-star"></use>
          </svg>
        </div>`:`<svg class="exercise-card__trash-icon" width="16" height="16">
          <use href="./img/icons.svg#icon-trash"></use>
        </svg>`}function Q({container:t,currentPage:e,totalPages:s,onPageChange:n}){if(!t)return;if(e=Number(e)||1,s=Number(s)||1,!s||s<=1){t.innerHTML="",t.hidden=!0;return}t.hidden=!1;const r=(l,u,d="",p=!1,h=!1)=>{const v=p?"disabled":"",_=h?" ex-pagination__btn--active":"",L=u?`data-page="${u}"`:"";return`<button type="button" class="ex-pagination__btn ${d}${_}" ${L} ${v}>${l}</button>`};let i=[],a=!1,o=!1;if(s<=3)for(let l=1;l<=s;l+=1)i.push(l);else e<=2?(i=[1,2,3],o=!0):e>=s-1?(i=[s-2,s-1,s],a=!0):(i=[e-1,e,e+1],a=!0,o=!0);let g="";g+=r("«",1,"ex-pagination__btn--arrow",e===1),g+=r("‹",e-1,"ex-pagination__btn--arrow",e===1),a&&(g+='<span class="ex-pagination__ellipsis">…</span>'),i.forEach(l=>{g+=r(String(l),l,"",!1,l===e)}),o&&(g+='<span class="ex-pagination__ellipsis">…</span>'),g+=r("›",e+1,"ex-pagination__btn--arrow",e===s),g+=r("»",s,"ex-pagination__btn--arrow",e===s),t.innerHTML=g,t.onclick=l=>{const u=l.target.closest(".ex-pagination__btn");if(!u||u.disabled)return;const d=Number(u.dataset.page);!d||d===e||n(d)}}function fe(t){return t?t[0].toUpperCase()+t.slice(1):""}function B(t){const e=document.getElementById("filtersGrid");if(e){if(!t.length){e.innerHTML="<p>Немає вправ для цієї категорії</p>";return}e.dataset.exercises="true",e.innerHTML=t.map(s=>Y({isHomePage:!0,id:s._id,...s})).join("")}}const pe=()=>{const t=document.getElementById("filters"),e=document.getElementById("filtersGrid"),s=document.getElementById("selectedSubcategory"),n=document.getElementById("searchContainer"),r=document.getElementById("searchInput"),i=document.querySelector(".search-icon"),a=document.querySelector(".exercises-title"),o=document.getElementById("exercisesPagination"),g=12,l=10,u=()=>window.matchMedia("(max-width: 767px)").matches,d=()=>u()?9:12,p=()=>u()?8:10;let h="Muscles",v=[],_="",L=1,S=1,P=u();function z(c){document.querySelectorAll(".filter-btn").forEach(f=>f.classList.remove("filter-btn--active")),c.classList.add("filter-btn--active")}async function T(c,f=1){try{const m=await A.getFiltersOfExercises({filter:c,page:f,limit:g}),x=m.results||[],E=d(),M=E<g?x.slice(0,E):x;se(M,c);const I=m.total??x.length;L=m.page??f,S=m.totalPages??(I?Math.ceil(I/E):1),o&&S>1?Q({container:o,currentPage:L,totalPages:S,onPageChange:F=>{T(c,F),t.scrollIntoView({behavior:"smooth",block:"start"})}}):o&&(o.innerHTML="",o.hidden=!0)}catch(m){console.error("Error loading filters:",m),e.innerHTML="<p>Не вдалося завантажити фільтри</p>",o&&(o.innerHTML="",o.hidden=!0)}}function se(c,f){if(o&&(o.innerHTML="",o.hidden=!0),!c.length){e.innerHTML="<p>Немає категорій</p>";return}e.dataset.exercises="false",e.innerHTML=c.map(m=>de(m,f)).join("")}async function O(c,f,m=1){const x={page:m,limit:l};c==="Body parts"?x.bodypart=f:c==="Muscles"?x.target=f:c==="Equipment"&&(x.equipment=f);try{const E=await A.getExercisesByFilters(x),M=E.results||[],I=p(),F=I<l?M.slice(0,I):M,G=E.total??M.length;v=F,L=E.page??m,S=E.totalPages??(G?Math.ceil(G/I):1),B(v),o&&S>1?Q({container:o,currentPage:L,totalPages:S,onPageChange:re=>{O(h,_,re),t.scrollIntoView({behavior:"smooth",block:"start"})}}):o&&(o.innerHTML="",o.hidden=!0)}catch(E){console.error("Error loading exercises:",E),e.innerHTML="<p>Не вдалося завантажити вправи</p>",o&&(o.innerHTML="",o.hidden=!0)}}function D(){const c=r.value.toLowerCase().trim();if(!c){B(v);return}const f=v.filter(m=>(m.name||"").toLowerCase().includes(c));B(f)}t.addEventListener("click",async c=>{const f=c.target.closest(".filter-btn");if(!f)return;const m=f.dataset.filter;!m||m===h||(h=m,z(f),s.textContent="",_="",n.hidden=!0,r.value="",v=[],T(h,1))}),e.addEventListener("click",async c=>{const f=c.target.closest(".category-card");if(!f)return;const m=f.dataset.name,x=fe(m);_=m,s.textContent=x,n.hidden=!1,r.value="",await O(h,_,1)}),r.addEventListener("input",D),r.addEventListener("keydown",c=>{c.key==="Enter"&&(c.preventDefault(),D())}),i&&i.addEventListener("click",D),document.addEventListener("DOMContentLoaded",()=>{T("Muscles",1)}),a.addEventListener("click",async()=>{const c=document.querySelector(".filter-btn--active"),f=c?c.dataset.filter:h;h=f,c&&z(c),_="",s.textContent="",r.value="",n.hidden=!0,v=[],await T(f,1)}),window.addEventListener("resize",()=>{const c=u();c!==P&&(P=c,e.dataset.exercises==="true"&&_?O(h,_,1):T(h,1))})},me=()=>{N.defaults.baseURL="https://your-energy.b.goit.study/api";const t=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function e(n,r){q.show({title:n==="success"?"Success":"Error",message:r,position:"center",color:n==="success"?"green":"red",timeout:4e3,pauseOnHover:!0,closeOnClick:!0})}async function s(n){var r,i,a;try{const{data:o}=await N.post("/subscription",{email:n});e("success",o.message||"Subscription created!")}catch(o){if(((r=o.response)==null?void 0:r.status)===409)e("error","You are already subscribed!");else{const g=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Something went wrong!";e("error",g)}}}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".footer-subscribe-form"),r=n.querySelector(".footer-subscribe-input");n.addEventListener("submit",async i=>{i.preventDefault();const a=r.value.trim();if(!t.test(a)){e("error","Please enter a valid email address. Example - info@goit.ua");return}await s(a),r.value=""})})},ge=()=>{const t=document.querySelector(".to-top-btn");t&&t.addEventListener("click",e),window.addEventListener("scroll",s);function e(){document.body.scroll({behavior:"smooth",top:0}),document.documentElement.scroll({behavior:"smooth",top:0})}function s(){document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="flex":t.style.display="none"}};function he(){const t=localStorage.getItem("favorites");if(!t)return;let e=JSON.parse(t);const s=document.querySelector(".favorites-list-clear"),n=document.querySelector(".favorites-list"),r=document.querySelector(".favorites-pagination-block");let i=1;const a=10,o=()=>{if(e.length===0){n.innerHTML="",r.innerHTML="",s&&(s.style.display="block");return}else s&&(s.style.display="none");let l;if(window.innerWidth>=1440)l=e,r.innerHTML="";else{const d=Math.ceil(e.length/a);i>d&&(i=d||1);const p=(i-1)*a,h=p+a;l=e.slice(p,h),g(d)}const u=l.map(d=>(d.isHomePage=!1,d.id=d._id,Y(d)));n.innerHTML=u.join("")},g=l=>{if(l<=1){r.innerHTML="";return}let u="";for(let d=1;d<=l;d++)u+=`<button class="favorites-pagination-btn ${d===i?"active":""}" type="button" data-page="${d}">${d}</button>`;r.innerHTML=u};r&&(r.addEventListener("click",l=>{if(l.target.classList.contains("favorites-pagination-btn")){const u=Number(l.target.dataset.page);u!==i&&(i=u,o(),n.scrollIntoView({behavior:"smooth",block:"start"}))}}),n.addEventListener("click",l=>{const u=l.target.closest(".exercise-card__trash-icon");if(u){const p=u.closest(".exercise-card").dataset.id;e=e.filter(h=>String(h._id)!==String(p)),localStorage.setItem("favorites",JSON.stringify(e)),o()}}),window.addEventListener("resize",o),o())}function ye(){const t=document.querySelector(".loader-page");t&&window.addEventListener("load",()=>{setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.remove()},500)},500)})}console.log("iziToast >>>",q);const b=document.getElementById("searchInput"),J=document.querySelector(".search-btn"),V=document.querySelector(".search-clear-btn"),H=document.getElementById("filtersGrid"),Z=document.getElementById("selectedSubcategory");function X(){const t=document.querySelector(".filter-btn--active");return t?t.dataset.filter:"Muscles"}function ee(t){switch(t){case"Muscles":return"muscles";case"Body parts":return"bodypart";case"Equipment":return"equipment";default:return"muscles"}}function _e(){return b?b.closest(".search-wrapper"):null}function R(){const t=_e();t&&(b.value.trim()?t.classList.add("has-text"):t.classList.remove("has-text"))}async function U(){const t=Z.textContent.trim().toLowerCase();if(!t)return;const e=X(),s=ee(e);H.innerHTML="<p>Loading...</p>";try{const n={page:1,limit:12};n[s]=t;const r=await A.getExercisesByFilters(n),i=Array.isArray(r.results)?r.results:[];B(i)}catch(n){console.error(n),H.innerHTML="<p>Не вдалося завантажити вправи</p>",q.error({title:"Error",message:"Не вдалося завантажити вправи",position:"topRight"})}}async function te(){const t=b.value.trim(),e=Z.textContent.trim().toLowerCase(),s=X(),n=ee(s);if(R(),!e){q.info({title:"Select category",message:"Спочатку виберіть підкатегорію",position:"topRight"});return}if(!t){await U();return}H.innerHTML="<p>Loading...</p>";try{const r={page:1,limit:12,keyword:t};r[n]=e;const i=await A.getExercisesByFilters(r),a=Array.isArray(i.results)?i.results:[];if(!a.length){H.innerHTML="<p>По цьому ключовому слову немає результатів.</p>";return}B(a)}catch(r){console.error(r),q.error({title:"Error",message:"Не вдалося виконати пошук",position:"topRight"})}}b&&(b.addEventListener("input",async t=>{t.stopImmediatePropagation(),R(),b.value.trim()||await U()},!0),b.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),t.stopImmediatePropagation(),te())},!0));J&&J.addEventListener("click",t=>{t.preventDefault(),t.stopImmediatePropagation(),te()},!0);V&&b&&V.addEventListener("click",async t=>{t.preventDefault(),t.stopImmediatePropagation(),b.value="",R(),await U(),b.focus()},!0);const ve=()=>{ye();const t=document.body.dataset.page;t==="home"?pe():t==="favorites"&&console.log("PAGE FAVORITES"),ae(),le(),ge(),me(),he()};ve();
//# sourceMappingURL=main-CrKASqBX.js.map
