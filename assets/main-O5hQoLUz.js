import{a as v,i as M}from"./vendor-EJu_fTQG.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const x=()=>{const o=document.querySelector("#mobile-menu-btn"),e=document.querySelector("#header-mobile-menu"),s=document.querySelector(".header-nav"),r=document.querySelector(".header-socials"),t=e.querySelectorAll(".header-socials-link"),n=globalThis.matchMedia("(max-width: 768px)");function c(){o.setAttribute("aria-expanded","true"),e.dataset.expanded="true"}function l(){o.setAttribute("aria-expanded","false"),e.dataset.expanded="false"}function p(){o.classList.remove("visually-hidden"),s.classList.add("visually-hidden"),r.classList.add("visually-hidden")}function m(){o.classList.add("visually-hidden"),s.classList.remove("visually-hidden"),r.classList.remove("visually-hidden"),l()}function f(){const d=globalThis.location.pathname.includes("favorites");document.querySelector("#nav-desktop-home")?.classList.toggle("nav-active",!d),document.querySelector("#nav-desktop-favorites")?.classList.toggle("nav-active",d),document.querySelector("#nav-mobile-home")?.classList.toggle("nav-active",!d),document.querySelector("#nav-mobile-favorites")?.classList.toggle("nav-active",d)}function h(d){d.matches?p():m()}o.addEventListener("click",()=>{o.getAttribute("aria-expanded")==="true"?l():c()}),t.forEach(d=>{d.addEventListener("click",l)}),document.addEventListener("keydown",d=>{d.key==="Escape"&&e.getAttribute("aria-expanded")==="true"&&l()}),document.addEventListener("DOMContentLoaded",()=>{f()}),h(n),n.addEventListener("change",h)};class T{PAGE_DEFAULT=1;LIMIT_DEFAULT=10;constructor(e){this.client=v.create({baseURL:e,headers:{"Content-Type":"application/json"}})}#r(e={}){return Object.fromEntries(Object.entries(e).map(([s,r])=>[s,this.#t(r)]).filter(([s,r])=>r!==void 0))}#t(e=""){if(typeof e!="string")return;const s=e.trim();return s.length?s:void 0}#e(e,s){const r=Number(e);return Number.isFinite(r)?r:s}async getExercisesByFilters(e={}){const{page:s,limit:r,...t}=e,n={...this.#r(t),page:this.#e(s,this.PAGE_DEFAULT),limit:this.#e(r,this.LIMIT_DEFAULT)};try{return(await this.client.get("exercises",{params:n})).data}catch(c){throw new Error(c.response.data.message)}}async getExercisesById(e=""){if(!this.#t(e))return{};try{return(await this.client.get(`exercises/${e}`)).data}catch(r){throw new Error(r.response.data.message)}}async getFiltersOfExercises(e={}){const{filter:s,page:r,limit:t}=e,n={filter:this.#t(s),page:this.#e(r,this.PAGE_DEFAULT),limit:this.#e(t,this.LIMIT_DEFAULT)};try{return(await this.client.get("filters",{params:n})).data}catch(c){throw new Error(c.response.data.message)}}async getQuote(){return(await this.client.get("quote")).data}async subscribe(e=""){try{return(await this.client.post("subscription",{email:e})).data}catch(s){throw new Error(s.response.data.message)}}}const L=new T("https://your-energy.b.goit.study/api/"),C=()=>{const o="A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.",e="Tom Brady";document.addEventListener("DOMContentLoaded",async()=>{try{const{quote:s,author:r}=await L.getQuote();document.getElementById("quote-text").textContent=s,document.getElementById("quote-author").textContent=r}catch(s){console.error("Error loading quote:",s),document.getElementById("quote-text").textContent=o,document.getElementById("quote-author").textContent=e}})},q="https://your-energy.b.goit.study/api";function I(o,e){const{name:s,imgURL:r}=o;let t=r;const n=s.charAt(0).toUpperCase()+s.slice(1);typeof r=="string"&&!r.startsWith("http")&&(t="https://ftp.goit.study"+r);let c=e==="bodypart"?"Body parts":e.charAt(0).toUpperCase()+e.slice(1);return`<li class="categories-item">
            <a href="#"
               class="category-card"
               data-name="${n}"
               data-filter="${e}"
               aria-label="Category ${n}">

                <div class="card-image-wrapper">
                    <img src="${t}" alt="${n}">
                    <div class="card-overlay"></div>
                </div>

                <div class="card-content">
                    <h3 class="category-title">${n}</h3>
                    <p class="category-filter">${c}</p>
                </div>
            </a>
        </li>`}async function w(o="muscles",e){const s=o.charAt(0).toUpperCase()+o.slice(1),r=`${q}/filters?filter=${s}`;console.log(`[FETCH] Виконується запит за URL: ${r}`);try{e&&(e.innerHTML='<p class="loading-message">Loading...</p>');const t=await fetch(r);if(!t.ok)throw new Error(`Error: ${t.status}. Can't load categories.`);const n=await t.json(),c=Array.isArray(n)?n:n.results;if(e){if(!Array.isArray(c)||c.length===0){e.innerHTML='<p class="error-message">No Category found.</p>';return}const l=c.map(p=>I(p,o)).join("");e.innerHTML=l,console.log(`[SUCCESS] Успішно відмальовано ${c.length} категорій.`)}}catch(t){const n=t instanceof Error?t.message:"Невідома помилка";console.error("[ERROR] Виникла несподівана помилка:",n),e&&(e.innerHTML=`<p class="error-message">Error in loading: ${n}</p>`)}}document.addEventListener("DOMContentLoaded",()=>{w("muscles")});const B=()=>{const o=document.getElementById("filters"),e=document.getElementById("filtersGrid"),s=document.getElementById("selectedSubcategory"),r=document.getElementById("searchContainer"),t=document.getElementById("searchInput"),n=document.querySelector(".search-icon"),c=document.querySelector(".exercises-title");let l="Muscles",p=[],m=[],f="";function h(a){return a?a[0].toUpperCase()+a.slice(1):""}function d(a){document.querySelectorAll(".filter-btn").forEach(i=>i.classList.remove("filter-btn--active")),a.classList.add("filter-btn--active")}async function b(a){try{p=(await L.getFiltersOfExercises({filter:a,page:1,limit:12})).results||[],A(p)}catch(i){console.error("Error loading filters:",i),e.innerHTML="<p>Не вдалося завантажити фільтри</p>"}}function A(a){if(!a.length){e.innerHTML="<p>Немає категорій</p>";return}e.innerHTML=a.map(i=>`
      <article class="filter-card" data-name="${i.name}">
        <div class="filter-card-name">${i.name}</div>
      </article>
    `).join("")}async function S(a,i){const u={page:1,limit:12};a==="Body parts"?u.bodyPart=i:a==="Muscles"?u.target=i:a==="Equipment"&&(u.equipment=i);try{m=(await L.getExercisesByFilters(u)).results||[],g(m)}catch(y){console.error("Error loading exercises:",y),e.innerHTML="<p>Не вдалося завантажити вправи</p>"}}function g(a){if(!a.length){e.innerHTML="<p>Немає вправ для цієї категорії</p>";return}e.innerHTML=a.map(i=>`
      <article class="exercise-card">
        <h3 class="exercise-card-title">${i.name}</h3>
        <p class="exercise-card-meta">
          ${i.bodyPart||""}${i.bodyPart&&i.target?" · ":""}${i.target||""}
        </p>
      </article>
    `).join("")}function E(){const a=t.value.toLowerCase().trim();if(!a){g(m);return}const i=m.filter(u=>(u.name||"").toLowerCase().includes(a));g(i)}o.addEventListener("click",async a=>{const i=a.target.closest(".filter-btn");if(!i)return;const u=i.dataset.filter;!u||u===l||(l=u,d(i),s.textContent="",f="",r.hidden=!0,t.value="",m=[],console.log(l.toLowerCase()),await w(l.toLowerCase(),e))}),e.addEventListener("click",async a=>{const i=a.target.closest(".filter-card");if(!i)return;const u=i.dataset.name,y=h(u);f=u,s.textContent=y,r.hidden=!1,t.value="",await S(l,f)}),t.addEventListener("input",E),t.addEventListener("keydown",a=>{a.key==="Enter"&&(a.preventDefault(),E())}),n&&n.addEventListener("click",E),document.addEventListener("DOMContentLoaded",()=>{b(l)}),c.addEventListener("click",async()=>{l="Muscles",document.querySelectorAll(".filter-btn").forEach(i=>i.classList.remove("filter-btn--active"));const a=document.querySelector('[data-filter="Muscles"]');a&&a.classList.add("filter-btn--active"),f="",s.textContent="",t.value="",r.hidden=!0,m=[],await b("Muscles")})},O=()=>{v.defaults.baseURL="https://your-energy.b.goit.study/api";const o=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function e(r,t){M.show({title:r==="success"?"Success":"Error",message:t,position:"center",color:r==="success"?"green":"red",timeout:4e3,pauseOnHover:!0,closeOnClick:!0})}async function s(r){try{const{data:t}=await v.post("/subscription",{email:r});e("success",t.message||"Subscription created!")}catch(t){if(t.response?.status===409)e("error","You are already subscribed!");else{const n=t.response?.data?.message||t.message||"Something went wrong!";e("error",n)}}}document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector(".footer-subscribe-form"),t=r.querySelector(".footer-subscribe-input");r.addEventListener("submit",async n=>{n.preventDefault();const c=t.value.trim();if(!o.test(c)){e("error","Please enter a valid email address. Example - info@goit.ua");return}await s(c),t.value=""})})},F=()=>{const o=document.querySelector(".to-top-btn");o&&o.addEventListener("click",e),window.addEventListener("scroll",s);function e(){document.body.scroll({behavior:"smooth",top:0}),document.documentElement.scroll({behavior:"smooth",top:0})}function s(){document.body.scrollTop>20||document.documentElement.scrollTop>20?o.style.display="flex":o.style.display="none"}};function U(){const o=document.querySelector(".loader-page");o&&window.addEventListener("load",()=>{setTimeout(()=>{o.classList.add("hidden"),setTimeout(()=>{o.remove()},500)},500)})}const $=()=>{U();const o=document.body.dataset.page;o==="home"?B():o==="favorites"&&console.log("PAGE FAVORITES"),x(),C(),F(),O()};$();
//# sourceMappingURL=main-O5hQoLUz.js.map
