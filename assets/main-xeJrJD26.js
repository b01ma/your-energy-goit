var xe=Object.defineProperty;var te=e=>{throw TypeError(e)};var _e=(e,t,r)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var K=(e,t,r)=>_e(e,typeof t!="symbol"?t+"":t,r),ve=(e,t,r)=>t.has(e)||te("Cannot "+r);var re=(e,t,r)=>t.has(e)?te("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var S=(e,t,r)=>(ve(e,t,"access private method"),r);import{a as Q,i as T,l as H}from"./vendor-CypzKZfR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const Ee=()=>{const e=document.querySelector("#mobile-menu-btn"),t=document.querySelector("#header-mobile-menu"),r=document.querySelector(".header-nav"),n=document.querySelector(".header-socials"),o=t.querySelectorAll(".header-socials-link"),s=globalThis.matchMedia("(max-width: 768px)");function a(){e.setAttribute("aria-expanded","true"),t.dataset.expanded="true"}function i(){e.setAttribute("aria-expanded","false"),t.dataset.expanded="false"}function l(){e.classList.remove("visually-hidden"),r.classList.add("visually-hidden"),n.classList.add("visually-hidden")}function u(){e.classList.add("visually-hidden"),r.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"),i()}function c(){var f,y,x,_;const d=globalThis.location.pathname.includes("favorites");(f=document.querySelector("#nav-desktop-home"))==null||f.classList.toggle("nav-active",!d),(y=document.querySelector("#nav-desktop-favorites"))==null||y.classList.toggle("nav-active",d),(x=document.querySelector("#nav-mobile-home"))==null||x.classList.toggle("nav-active",!d),(_=document.querySelector("#nav-mobile-favorites"))==null||_.classList.toggle("nav-active",d)}function m(d){d.matches?l():u()}e.addEventListener("click",()=>{e.getAttribute("aria-expanded")==="true"?i():a()}),o.forEach(d=>{d.addEventListener("click",i)}),document.addEventListener("keydown",d=>{d.key==="Escape"&&t.getAttribute("aria-expanded")==="true"&&i()}),document.addEventListener("DOMContentLoaded",()=>{c()}),m(s),s.addEventListener("change",m)};var E,ae,z,P;class be{constructor(t){re(this,E);K(this,"PAGE_DEFAULT",1);K(this,"LIMIT_DEFAULT",10);this.client=Q.create({baseURL:t,headers:{"Content-Type":"application/json"}})}async getExercisesByFilters(t={}){const{page:r,limit:n,...o}=t,s={...S(this,E,ae).call(this,o),page:S(this,E,P).call(this,r,this.PAGE_DEFAULT),limit:S(this,E,P).call(this,n,this.LIMIT_DEFAULT)};try{return(await this.client.get("exercises",{params:s})).data}catch(a){throw new Error(a.response.data.message)}}async getExercisesById(t=""){if(!S(this,E,z).call(this,t))return{};try{return(await this.client.get(`exercises/${t}`)).data}catch(n){throw new Error(n.response.data.message)}}async getFiltersOfExercises(t={}){const{filter:r,page:n,limit:o}=t,s={filter:S(this,E,z).call(this,r),page:S(this,E,P).call(this,n,this.PAGE_DEFAULT),limit:S(this,E,P).call(this,o,this.LIMIT_DEFAULT)};try{return(await this.client.get("filters",{params:s})).data}catch(a){throw new Error(a.response.data.message)}}async getQuote(){return(await this.client.get("quote")).data}async subscribe(t=""){try{return(await this.client.post("subscription",{email:t})).data}catch(r){throw new Error(r.response.data.message)}}async addRating(t,r={}){try{return(await this.client.patch(`exercises/${t}/rating`,r)).data}catch(n){throw new Error(n.response.data.message)}}}E=new WeakSet,ae=function(t={}){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,S(this,E,z).call(this,n)]).filter(([r,n])=>n!==void 0))},z=function(t=""){if(typeof t!="string")return;const r=t.trim();return r.length?r:void 0},P=function(t,r){const n=Number(t);return Number.isFinite(n)?n:r};const C=new be("https://your-energy.b.goit.study/api/"),we=()=>{const e="A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.",t="Tom Brady";document.addEventListener("DOMContentLoaded",async()=>{const r=new Date().toISOString().slice(0,10),n=JSON.parse(localStorage.getItem("dailyQuote"));if(n&&n.date===r){document.getElementById("quote-text").textContent=n.quote,document.getElementById("quote-author").textContent=n.author;return}try{const{quote:o,author:s}=await C.getQuote();document.getElementById("quote-text").textContent=o,document.getElementById("quote-author").textContent=s,localStorage.setItem("dailyQuote",JSON.stringify({quote:o,author:s,date:r}))}catch(o){console.error("Error loading quote:",o),document.getElementById("quote-text").textContent=e,document.getElementById("quote-author").textContent=t}})};function Ie(e,t){const{name:r,imgURL:n}=e;return`<li class="categories-item">
            <a
              href="javascript:void(0);"
              class="category-card"
              data-name="${r}"
              aria-label="Category ${r}">

                <div class="card-image-wrapper">
                    <img src="${n}" alt="${r}">
                    <div class="card-overlay"></div>
                </div>

                <div class="card-content">
                    <h3 class="category-title">${r}</h3>
                    <p class='category-filter'>${t}</p>
                </div>
            </a>
        </li>`}const v="/your-energy-goit/assets/icons-BI5Wx2_-.svg";function ce(e){const{id:t,isHomePage:r=!0,rating:n,name:o,burnedCalories:s,time:a,bodyPart:i,target:l}=e;return`
  <li class="exercise-card" data-id="${t}">
    <div class="exercise-card__header">
      <div class="exercise-card__workout-and-rating">
        <div class="exercise-card__workout">
          <span class="exercise-card__workout__text">WORKOUT</span>
        </div>
        ${Le(r,n)}
      </div>
      <button class="exercise-card__start">
        <span class="exercise-card__start__text">Start</span>
        <svg class="exercise-card__start__icon" width="16" height="16">
          <use href="${v}#icon-arrow-black"></use>
        </svg>
      </button>
    </div>
    <div class="exercise-card__body">
      <div class="exercise-card__icon-runner__container">
        <svg class="exercise-card__icon-runner" width="16" height="16">
          <use href="${v}#icon-runner"></use>
        </svg>
      </div>
      <p class="exercise-card__title">
        ${Se(o)}
      </p>
    </div>
    <ul class="exercise-card__footer__list">
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Burned calories:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${s} / ${a} min</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Body part:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${i}</span
        >
      </li>
      <li class="exercise-card__footer__item">
        <span
          class="exercise-card__footer__text exercise-card__footer__text__key"
          >Target:</span
        ><span
          class="exercise-card__footer__text exercise-card__footer__text__value"
          >${l}</span
        >
      </li>
    </ul>
  </li>
  `}function Le(e,t){return e?`<div class="exercise-card__rating">
          <span class="exercise-card__rating__number">${t}</span>
          <svg width="13" height="13">
            <use fill="#EEA10C" href="${v}#icon-star"></use>
          </svg>
        </div>`:`<svg class="exercise-card__trash-icon" width="16" height="16">
          <use href="${v}#icon-trash"></use>
        </svg>`}function Se(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function R({container:e,currentPage:t,totalPages:r,onPageChange:n}){if(!e)return;if(t=Number(t)||1,r=Number(r)||1,!r||r<=1){e.innerHTML="",e.hidden=!0;return}e.hidden=!1;const o=(u,c,m="",d=!1,f=!1)=>{const y=d?"disabled":"",x=f?" ex-pagination__btn--active":"",_=c?`data-page="${c}"`:"";return`<button type="button" class="ex-pagination__btn ${m}${x}" ${_} ${y}>${u}</button>`};let s=[],a=!1,i=!1;if(r<=3)for(let u=1;u<=r;u+=1)s.push(u);else t<=2?(s=[1,2,3],i=!0):t>=r-1?(s=[r-2,r-1,r],a=!0):(s=[t-1,t,t+1],a=!0,i=!0);let l="";l+=o("«",1,"ex-pagination__btn--arrow",t===1),l+=o("‹",t-1,"ex-pagination__btn--arrow",t===1),a&&(l+='<span class="ex-pagination__ellipsis">…</span>'),s.forEach(u=>{l+=o(String(u),u,"",!1,u===t)}),i&&(l+='<span class="ex-pagination__ellipsis">…</span>'),l+=o("›",t+1,"ex-pagination__btn--arrow",t===r),l+=o("»",r,"ex-pagination__btn--arrow",t===r),e.innerHTML=l,e.onclick=u=>{const c=u.target.closest(".ex-pagination__btn");if(!c||c.disabled)return;const m=Number(c.dataset.page);!m||m===t||n(m)}}function Me(e){return e?e[0].toUpperCase()+e.slice(1):""}function N(e){const t=document.getElementById("filtersGrid");if(t){if(!e.length){t.innerHTML="<p>There are no exercises in this category</p>";return}t.dataset.exercises="true",t.innerHTML=e.map(r=>ce({isHomePage:!0,id:r._id,...r})).join("")}}const Ce=()=>{const e=document.getElementById("filters"),t=document.getElementById("filtersGrid"),r=document.getElementById("selectedSubcategory"),n=document.getElementById("searchContainer"),o=document.getElementById("searchInput"),s=document.querySelector(".search-icon"),a=document.querySelector(".exercises-title"),i=document.getElementById("exercisesPagination"),l=12,u=10,c=()=>window.matchMedia("(max-width: 767px)").matches,m=()=>c()?9:12,d=()=>c()?8:10;let f="Muscles",y=[],x="",_=1,L=1,k=c();function $(g){document.querySelectorAll(".filter-btn").forEach(p=>p.classList.remove("filter-btn--active")),g.classList.add("filter-btn--active")}async function M(g,p=1){try{const h=await C.getFiltersOfExercises({filter:g,page:p,limit:l}),w=h.results||[],I=m(),O=I<l?w.slice(0,I):w;D(O,g);const q=h.total??w.length;_=h.page??p,L=h.totalPages??(q?Math.ceil(q/I):1),i&&L>1?R({container:i,currentPage:_,totalPages:L,onPageChange:j=>{M(g,j),e.scrollIntoView({behavior:"smooth",block:"start"})}}):i&&(i.innerHTML="",i.hidden=!0)}catch(h){console.error("Error loading filters:",h),t.innerHTML="<p>Failed to load filters</p>",i&&(i.innerHTML="",i.hidden=!0)}}function D(g,p){if(i&&(i.innerHTML="",i.hidden=!0),!g.length){t.innerHTML="<p>There are no categories</p>";return}t.dataset.exercises="false",t.innerHTML=g.map(h=>Ie(h,p)).join("")}async function A(g,p,h=1){const w={page:h,limit:u};g==="Body parts"?w.bodypart=p:g==="Muscles"?w.target=p:g==="Equipment"&&(w.equipment=p);try{const I=await C.getExercisesByFilters(w),O=I.results||[],q=d(),j=q<u?O.slice(0,q):O,ee=I.total??O.length;y=j,_=I.page??h,L=I.totalPages??(ee?Math.ceil(ee/q):1),N(y),i&&L>1?R({container:i,currentPage:_,totalPages:L,onPageChange:ye=>{A(f,x,ye),e.scrollIntoView({behavior:"smooth",block:"start"})}}):i&&(i.innerHTML="",i.hidden=!0)}catch(I){console.error("Error loading exercises:",I),t.innerHTML="<p>Failed to load exercises</p>",i&&(i.innerHTML="",i.hidden=!0)}}function B(){const g=o.value.toLowerCase().trim();if(!g){N(y);return}const p=y.filter(h=>(h.name||"").toLowerCase().includes(g));N(p)}e.addEventListener("click",async g=>{const p=g.target.closest(".filter-btn");if(!p)return;const h=p.dataset.filter;!h||h===f||(f=h,$(p),r.textContent="",x="",n.hidden=!0,o.value="",y=[],M(f,1))}),t.addEventListener("click",async g=>{const p=g.target.closest(".category-card");if(!p)return;const h=p.dataset.name,w=Me(h);x=h,r.textContent=w,n.hidden=!1,o.value="",await A(f,x,1)}),o.addEventListener("input",B),o.addEventListener("keydown",g=>{g.key==="Enter"&&(g.preventDefault(),B())}),s&&s.addEventListener("click",B),document.addEventListener("DOMContentLoaded",()=>{M("Muscles",1)}),a.addEventListener("click",async()=>{const g=document.querySelector(".filter-btn--active"),p=g?g.dataset.filter:f;f=p,g&&$(g),x="",r.textContent="",o.value="",n.hidden=!0,y=[],await M(p,1)}),window.addEventListener("resize",()=>{const g=c();g!==k&&(k=g,t.dataset.exercises==="true"&&x?A(f,x,1):M(f,1))})},Be=()=>{Q.defaults.baseURL="https://your-energy.b.goit.study/api";const e=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function t(n,o){T.show({title:n==="success"?"Success":"Error",message:o,position:"center",color:n==="success"?"green":"red",timeout:4e3,pauseOnHover:!0,closeOnClick:!0})}async function r(n){var o,s,a;try{const{data:i}=await Q.post("/subscription",{email:n});t("success",i.message||"Subscription created!")}catch(i){if(((o=i.response)==null?void 0:o.status)===409)t("error","You are already subscribed!");else{const l=((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.message)||i.message||"Something went wrong!";t("error",l)}}}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".footer-subscribe-form"),o=n.querySelector(".footer-subscribe-input");n.addEventListener("submit",async s=>{s.preventDefault();const a=o.value.trim();if(!e.test(a)){t("error","Please enter a valid email address. Example - info@goit.ua");return}await r(a),o.value=""})})},Te=()=>{const e=document.querySelector(".to-top-btn");e&&e.addEventListener("click",t),window.addEventListener("scroll",r);function t(){document.body.scroll({behavior:"smooth",top:0}),document.documentElement.scroll({behavior:"smooth",top:0})}function r(){document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="flex":e.style.display="none"}};function Ae(){let e=localStorage.getItem("favorites"),t=e?JSON.parse(e):[];const r=document.querySelector(".favorites-list-clear"),n=document.querySelector(".favorites-list"),o=document.querySelector(".favorites-pagination-block");if(!n||!o)return;let s=1;const a=10,i=()=>{if(!t||t.length===0){n.innerHTML="",o.innerHTML="",r&&(r.style.display="block");return}else r&&(r.style.display="none");let c;if(window.innerWidth>=1440)c=t,o.innerHTML="";else{const d=Math.ceil(t.length/a);s>d&&(s=d||1);const f=(s-1)*a,y=f+a;c=t.slice(f,y),l(d)}const m=c.map(d=>(d.isHomePage=!1,d.id=d._id,ce(d)));n.innerHTML=m.join("")},l=c=>{if(c<=1){o.innerHTML="";return}let m="";for(let d=1;d<=c;d++)m+=`<button class="favorites-pagination-btn ${d===s?"active":""}" type="button" data-page="${d}">${d}</button>`;o.innerHTML=m},u=()=>{const c=localStorage.getItem("favorites");t=c?JSON.parse(c):[],i()};o.addEventListener("click",c=>{if(c.target.classList.contains("favorites-pagination-btn")){const m=Number(c.target.dataset.page);m!==s&&(s=m,i(),n.scrollIntoView({behavior:"smooth",block:"start"}))}}),n.addEventListener("click",c=>{const m=c.target.closest(".exercise-card__trash-icon");if(m){const f=m.closest(".exercise-card").dataset.id;t=t.filter(y=>String(y._id)!==String(f)),localStorage.setItem("favorites",JSON.stringify(t)),i()}}),window.addEventListener("resize",i),window.addEventListener("favorites-updated",u),window.addEventListener("storage",c=>{c.key==="favorites"&&u()}),i()}function qe(){const e=document.querySelector(".loader-page");e&&window.addEventListener("load",()=>{setTimeout(()=>{e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)},500)})}const le="favorites",Fe=`${v}#icon-heart`,ke=`${v}#icon-trash`;function ne(e){try{localStorage.setItem(le,JSON.stringify(e))}catch(t){console.error("Failed to save favorites to localStorage:",t)}}function de(){try{const e=localStorage.getItem(le);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Failed to parse favorites from localStorage:",e),[]}}function ue(e,t){return e.some(r=>String(r._id)===String(t))}function Y(e,t){e&&(e.dataset.favorite=t?"true":"false",t?e.innerHTML=`
      Remove from favorites
      <svg class="exercise-modal__btn-icon" width="20" height="20">
        <use href="${ke}"></use>
      </svg>
    `:e.innerHTML=`
      Add to favorites
      <svg class="exercise-modal__btn-icon" width="20" height="20">
        <use href="${Fe}"></use>
      </svg>
    `)}function me(){const e=document.getElementById("exerciseModalFavoriteBtn");if(e&&e.dataset.id)return e.dataset.id;const t=document.getElementById("exerciseModal");if(t&&t.dataset.id)return t.dataset.id;if(t){const r=t.querySelector("[data-id]");if(r)return r.dataset.id}return console.warn("exercise-modal-favorites: exercise id not found."),null}async function $e(e){const t=e.currentTarget,r=me();if(!r)return;let n=de();const o=ue(n,r);t.disabled=!0;try{if(o)n=n.filter(s=>String(s._id)!==String(r)),ne(n),Y(t,!1);else{const s=await C.getExercisesById(r);!s||!s._id?console.error("Failed to load exercise data for favorites."):(n.push(s),ne(n),Y(t,!0))}}catch(s){console.error("Failed to toggle favorite exercise:",s)}finally{t.disabled=!1}}function fe(){const e=document.getElementById("exerciseModalFavoriteBtn");if(!e)return;const t=me();if(!t)return;const r=de(),n=ue(r,t);Y(e,n)}function se(){const e=document.getElementById("exerciseModalFavoriteBtn");e&&(fe(),e.addEventListener("click",$e))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",se):se();const G={add:"Add to favorites",remove:"Remove from favorites"};function Oe(){Re(),H.init({onShow:e=>console.info(`${e.id} is shown`),onClose:e=>console.info(`${e.id} is hidden`),openTrigger:"data-micromodal-trigger",closeTrigger:"data-micromodal-close",openClass:"is-open",disableScroll:!0,disableFocus:!1,awaitOpenAnimation:!0,awaitCloseAnimation:!0,debugMode:!0}),document.addEventListener("click",async e=>{const t=e.target.closest(".exercise-card__start");if(!t)return;const r=t.closest(".exercise-card");if(!r)return;const n=r.dataset.id;if(!n){console.error("Exercise ID not found");return}try{const o=await C.getExercisesById(n),s=document.getElementById("exerciseModal");s.dataset.id=n;const a=document.getElementById("exerciseModalFavoriteBtn");a.dataset.id=n,Pe(o),fe(),H.show("exerciseModal")}catch(o){console.error("Error loading exercise details:",o)}}),document.addEventListener("click",e=>{var r;e.target.closest("#exerciseModalRatingBtn")&&((r=document.getElementById("exerciseModalRating"))!=null&&r.textContent,H.close("exerciseModal"),setTimeout(()=>{He(),H.show("ratingModal")},300))}),document.addEventListener("click",e=>{var x,_,L,k,$,M,D,A;const t=e.target.closest("#exerciseModalFavoriteBtn");if(!t)return;const r=t.querySelector(".exerciseModalFavoriteBtn__text"),n=t.querySelector(".exercise-modal__btn__heart-icon"),o=t.querySelector(".exercise-card__btn__trash-icon"),s=document.getElementById("exerciseModal"),a=s==null?void 0:s.dataset.exerciseId;if(!a){console.error("Exercise ID not found");return}const i=JSON.parse(localStorage.getItem("favorites"))||[],l=i.findIndex(B=>B._id===a),u=parseFloat((x=document.getElementById("exerciseModalRating"))==null?void 0:x.textContent)||0,c=((_=document.getElementById("exerciseModal-title"))==null?void 0:_.textContent)||"",m=((k=(L=document.getElementById("exerciseModalCalories"))==null?void 0:L.textContent)==null?void 0:k.split("/")[0])||"",d=((M=($=document.getElementById("exerciseModalCalories"))==null?void 0:$.textContent)==null?void 0:M.split("/")[1])||"",f=((D=document.getElementById("exerciseModalBodyPart"))==null?void 0:D.textContent)||"",y=((A=document.getElementById("exerciseModalTarget"))==null?void 0:A.textContent)||"";if(l===-1){const B={_id:a,rating:u,name:c,burnedCalories:m,target:y,bodyPart:f,time:d};i.push(B),r.textContent=G.remove,n.style.display="none",o.style.display="block"}else i.splice(l,1),r.textContent=G.add,n.style.display="block",o.style.display="none";localStorage.setItem("favorites",JSON.stringify(i)),window.dispatchEvent(new Event("favorites-updated"))})}function He(e){const t=document.getElementById("ratingModalCurrentValue");t&&(t.textContent="0.0");const r=document.getElementById("ratingModalCurrentStars");if(!r)return;let n=0;r.innerHTML="";for(let s=0;s<5;s++){const a=s+1,i=document.createElement("button");i.type="button",i.className="rating-modal__star-btn",i.setAttribute("data-rating",a),i.setAttribute("aria-label",`Rate ${a} stars`);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width","18"),l.setAttribute("height","18"),l.classList.add("exercise-modal__star","exercise-modal__star--empty");const u=document.createElementNS("http://www.w3.org/2000/svg","use");u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${v}#icon-star`),l.appendChild(u),i.appendChild(l),i.addEventListener("click",()=>{n=a,o(n);const c=document.querySelector(".rating-modal__rating-value");c&&(c.textContent=n.toFixed(1)),r.setAttribute("data-selected-rating",n)}),r.appendChild(i)}function o(s){r.querySelectorAll(".rating-modal__star-btn").forEach((i,l)=>{const u=i.querySelector("svg");l<s?(u.classList.remove("exercise-modal__star--empty"),u.classList.add("exercise-modal__star--filled")):(u.classList.add("exercise-modal__star--empty"),u.classList.remove("exercise-modal__star--filled"))})}}function Pe(e){if(!e)return;const t=document.getElementById("exerciseModal");t&&e._id&&(t.dataset.exerciseId=e._id);const r=document.getElementById("exerciseModalImage");r&&e.gifUrl&&(r.src=e.gifUrl,r.alt=e.name||"Exercise");const n=document.getElementById("exerciseModal-title");n&&e.name&&(n.textContent=U(e.name));const o=document.getElementById("exerciseModalRating");o&&e.rating&&(o.textContent=e.rating.toFixed(1)),Ne(e.rating);const s=document.getElementById("exerciseModalTarget");s&&e.target&&(s.textContent=U(e.target));const a=document.getElementById("exerciseModalBodyPart");a&&e.bodyPart&&(a.textContent=U(e.bodyPart));const i=document.getElementById("exerciseModalEquipment");i&&e.equipment&&(i.textContent=U(e.equipment));const l=document.getElementById("exerciseModalPopular");l&&e.popularity&&(l.textContent=e.popularity);const u=document.getElementById("exerciseModalCalories");u&&e.burnedCalories&&e.time&&(u.textContent=`${e.burnedCalories}/${e.time} min`);const c=document.getElementById("exerciseModalDescription");c&&e.description&&(c.textContent=e.description);const m=document.querySelector(".exerciseModalFavoriteBtn__text"),d=document.querySelector(".exercise-modal__btn__heart-icon"),f=document.querySelector(".exercise-card__btn__trash-icon");m&&d&&f&&((JSON.parse(localStorage.getItem("favorites"))||[]).findIndex(_=>_._id===e._id)===-1?(m.textContent=G.add,d.style.display="block",f.style.display="none"):(m.textContent=G.remove,d.style.display="none",f.style.display="block"))}function U(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ne(e){const t=document.getElementById("exerciseModalStars");if(!(!t||!e)){t.innerHTML="";for(let r=0;r<5;r++){const n=document.createElement("span");n.className="exercise-modal__star-wrapper",n.style.position="relative",n.style.display="inline-block",n.style.width="18px",n.style.height="18px";const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","18"),o.setAttribute("height","18"),o.classList.add("exercise-modal__star","exercise-modal__star--empty");const s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${v}#icon-star`),o.appendChild(s),n.appendChild(o);const a=Math.max(0,Math.min(100,(e-r)*100));if(a>0){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","18"),i.setAttribute("height","18"),i.classList.add("exercise-modal__star","exercise-modal__star--filled"),i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.clipPath=`inset(0 ${100-a}% 0 0)`;const l=document.createElementNS("http://www.w3.org/2000/svg","use");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${v}#icon-star`),i.appendChild(l),n.appendChild(i)}t.appendChild(n)}}}const W=document.getElementById("ratingForm");W&&W.addEventListener("submit",async e=>{var l,u;e.preventDefault();const t=(l=document.getElementById("ratingEmail"))==null?void 0:l.value.trim(),r=(u=document.getElementById("ratingComment"))==null?void 0:u.value.trim(),n=document.getElementById("ratingModalCurrentStars"),o=parseFloat((n==null?void 0:n.dataset.selectedRating)||"0");if(!t||!o){console.error("Please fill all fields and select a rating");return}const s=document.getElementById("exerciseModal"),a=s==null?void 0:s.dataset.exerciseId;if(!a)return;const i={email:t,review:r,rate:o};try{await C.addRating(a,i),W.reset();const c=document.querySelector(".rating-modal__rating-value");c&&(c.textContent="0.0"),n.removeAttribute("data-selected-rating"),n.querySelectorAll(".rating-modal__star-btn").forEach(d=>{const f=d.querySelector("svg");f&&(f.classList.add("exercise-modal__star--empty"),f.classList.remove("exercise-modal__star--filled"))}),H.close("ratingModal"),T.info({title:"Success",message:"Rating sent successfully",position:"topRight"})}catch(c){T.error({title:"Error",message:c.message,position:"topRight"})}});function Re(){const e=document.querySelector("#exerciseModal .modal__close use");e&&e.setAttribute("href",`${v}#icon-cross`);const t=document.querySelector(".exercise-modal__btn__heart-icon use");t&&t.setAttribute("href",`${v}#icon-heart`);const r=document.querySelector(".exercise-card__btn__trash-icon use");r&&r.setAttribute("href",`${v}#icon-trash`);const n=document.querySelector("#ratingModal .modal__close use");n&&n.setAttribute("href",`${v}#icon-cross`)}console.log("iziToast >>>",T);const b=document.getElementById("searchInput"),oe=document.querySelector(".search-btn"),ie=document.querySelector(".search-clear-btn"),V=document.getElementById("filtersGrid"),ge=document.getElementById("selectedSubcategory"),F=document.getElementById("exercisesPagination");function pe(){const e=document.querySelector(".filter-btn--active");return e?e.dataset.filter:"Muscles"}function he(e){switch(e){case"Muscles":return"muscles";case"Body parts":return"bodypart";case"Equipment":return"equipment";default:return"muscles"}}function De(){return b?b.closest(".search-wrapper"):null}function Z(){const e=De();e&&(b.value.trim()?e.classList.add("has-text"):e.classList.remove("has-text"))}async function J(e=1){const t=ge.textContent.trim().toLowerCase();if(!t)return;const r=pe(),n=he(r);V.innerHTML="<p>Loading...</p>";try{const o={page:e,limit:12};o[n]=t;const s=await C.getExercisesByFilters(o),a=Array.isArray(s.results)?s.results:[];if(N(a),F){const i=typeof s.total=="number"?s.total:a.length,l=s.page??e,u=s.limit??o.limit??12,c=typeof s.totalPages=="number"?s.totalPages:i?Math.ceil(i/u):0;R({container:F,currentPage:l,totalPages:c,onPageChange:m=>{J(m)}})}}catch(o){console.error(o),V.innerHTML="<p>Failed to load exercises</p>",T.error({title:"Error",message:"Failed to load exercises",position:"topRight"})}}async function X(e=1){const t=b.value.trim(),r=ge.textContent.trim().toLowerCase(),n=pe(),o=he(n);if(Z(),!r){T.info({title:"Select category",message:"Choose the category first",position:"topRight"});return}if(!t){await J(1);return}V.innerHTML="<p>Loading...</p>";try{const s={page:e,limit:12,keyword:t};s[o]=r;const a=await C.getExercisesByFilters(s),i=Array.isArray(a.results)?a.results:[];if(!i.length){V.innerHTML="<p>There are no results for your query</p>",F&&R({container:F,currentPage:1,totalPages:0,onPageChange:()=>{}});return}if(N(i),F){const l=typeof a.total=="number"?a.total:i.length,u=a.page??e,c=a.limit??s.limit??12,m=typeof a.totalPages=="number"?a.totalPages:l?Math.ceil(l/c):1;R({container:F,currentPage:u,totalPages:m,onPageChange:d=>{X(d)}})}}catch(s){console.error(s),T.error({title:"Error",message:"Search failed",position:"topRight"})}}b&&(b.addEventListener("input",async e=>{e.stopImmediatePropagation(),Z(),b.value.trim()||await J(1)},!0),b.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),e.stopImmediatePropagation(),X(1))},!0));oe&&oe.addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation(),X(1)},!0);ie&&b&&ie.addEventListener("click",async e=>{e.preventDefault(),e.stopImmediatePropagation(),b.value="",Z(),await J(1),b.focus()},!0);const Ue=()=>{qe();const e=document.body.dataset.page;e==="home"?Ce():e==="favorites"&&console.log("PAGE FAVORITES"),Ee(),we(),Te(),Be(),Ae(),Oe()};Ue();
//# sourceMappingURL=main-xeJrJD26.js.map
