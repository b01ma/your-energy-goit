{"version":3,"file":"main-xyB-x1hn.js","sources":["../../src/js/components/header.js","../../src/js/api/api.js","../../src/js/components/quote.js","../../src/js/components/category-template.js","../../src/js/components/exercise-card.js","../../src/js/components/filter-panel.js","../../src/js/components/subscribe.js","../../src/js/utilities/to-top-btn.js","../../src/js/components/favorites.js","../../src/js/utilities/page-loader.js","../../src/js/components/search.js","../../src/main.js"],"sourcesContent":["const header = () => {\n  const mobileMenuBtn = document.querySelector('#mobile-menu-btn');\n  const mobileMenu = document.querySelector('#header-mobile-menu');\n\n  const navDesktop = document.querySelector('.header-nav');\n  const headerSocialDesktop = document.querySelector('.header-socials');\n\n  const menuLinks = mobileMenu.querySelectorAll('.header-socials-link');\n\n  const mobileBreakpoint = globalThis.matchMedia('(max-width: 768px)');\n\n  function openMenu() {\n    mobileMenuBtn.setAttribute('aria-expanded', 'true');\n    mobileMenu.dataset.expanded = 'true';\n  }\n\n  function closeMenu() {\n    mobileMenuBtn.setAttribute('aria-expanded', 'false');\n    mobileMenu.dataset.expanded = 'false';\n  }\n\n  function showMobileMenu() {\n    mobileMenuBtn.classList.remove('visually-hidden');\n\n    navDesktop.classList.add('visually-hidden');\n    headerSocialDesktop.classList.add('visually-hidden');\n  }\n\n  function hideMobileMenu() {\n    mobileMenuBtn.classList.add('visually-hidden');\n\n    navDesktop.classList.remove('visually-hidden');\n    headerSocialDesktop.classList.remove('visually-hidden');\n\n    closeMenu();\n  }\n\n  function updateActiveNav() {\n    const isOnFavorites = globalThis.location.pathname.includes('favorites');\n\n    document\n      .querySelector('#nav-desktop-home')\n      ?.classList.toggle('nav-active', !isOnFavorites);\n    document\n      .querySelector('#nav-desktop-favorites')\n      ?.classList.toggle('nav-active', isOnFavorites);\n\n    document\n      .querySelector('#nav-mobile-home')\n      ?.classList.toggle('nav-active', !isOnFavorites);\n    document\n      .querySelector('#nav-mobile-favorites')\n      ?.classList.toggle('nav-active', isOnFavorites);\n  }\n\n  function handleBreakpointChange(e) {\n    e.matches ? showMobileMenu() : hideMobileMenu();\n  }\n\n  mobileMenuBtn.addEventListener('click', () => {\n    const isExpanded = mobileMenuBtn.getAttribute('aria-expanded') === 'true';\n    isExpanded ? closeMenu() : openMenu();\n  });\n\n  menuLinks.forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n\n  document.addEventListener('keydown', e => {\n    if (\n      e.key === 'Escape' &&\n      mobileMenu.getAttribute('aria-expanded') === 'true'\n    ) {\n      closeMenu();\n    }\n  });\n\n  document.addEventListener('DOMContentLoaded', () => {\n    updateActiveNav();\n  });\n\n  handleBreakpointChange(mobileBreakpoint);\n  mobileBreakpoint.addEventListener('change', handleBreakpointChange);\n};\n\nexport default header;\n","import axios from 'axios';\n\nclass Api {\n  PAGE_DEFAULT = 1;\n  LIMIT_DEFAULT = 10;\n\n  constructor(baseURL) {\n    this.client = axios.create({\n      baseURL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  #filterUndefined(obj = {}) {\n    return Object.fromEntries(\n      Object.entries(obj)\n        .map(([k, v]) => [k, this.#cleanString(v)])\n        .filter(([_, v]) => v !== undefined)\n    );\n  }\n\n  #cleanString(value = '') {\n    if (typeof value !== 'string') return undefined;\n    const trimmed = value.trim();\n    return trimmed.length ? trimmed : undefined;\n  }\n\n  #cleanNumber(value, defaultValue) {\n    const num = Number(value);\n    return Number.isFinite(num) ? num : defaultValue;\n  }\n\n  async getExercisesByFilters(payload = {}) {\n    const { page, limit, ...rest } = payload;\n\n    const params = {\n      ...this.#filterUndefined(rest),\n      page: this.#cleanNumber(page, this.PAGE_DEFAULT),\n      limit: this.#cleanNumber(limit, this.LIMIT_DEFAULT),\n    };\n\n    try {\n      const response = await this.client.get('exercises', { params });\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async getExercisesById(id = '') {\n    const cleanId = this.#cleanString(id);\n    if (!cleanId) {\n      return {};\n    }\n\n    try {\n      const response = await this.client.get(`exercises/${id}`);\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async getFiltersOfExercises(payload = {}) {\n    const { filter, page, limit } = payload;\n\n    console.log(filter);\n\n    const params = {\n      filter: this.#cleanString(filter),\n      page: this.#cleanNumber(page, this.PAGE_DEFAULT),\n      limit: this.#cleanNumber(limit, this.LIMIT_DEFAULT),\n    };\n\n    try {\n      const response = await this.client.get('filters', { params });\n      console.log(response);\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n\n  async getQuote() {\n    const response = await this.client.get('quote');\n    return response.data;\n  }\n\n  async subscribe(email = '') {\n    try {\n      const response = await this.client.post('subscription', { email });\n      return response.data;\n    } catch (error) {\n      throw new Error(error.response.data.message);\n    }\n  }\n}\n\nexport const api = new Api('https://your-energy.b.goit.study/api/');\n","import { api } from '../api/api.js';\n\nconst quote = () => {\n  const QUOTE_PLACEHOLDER = `A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.`;\n  const AUTHOR_PLACEHOLDER = 'Tom Brady';\n\n  document.addEventListener('DOMContentLoaded', async () => {\n    const today = new Date().toISOString().slice(0, 10); // YYYY-MM-DD\n    const saved = JSON.parse(localStorage.getItem('dailyQuote'));\n\n    if (saved && saved.date === today) {\n      document.getElementById('quote-text').textContent = saved.quote;\n      document.getElementById('quote-author').textContent = saved.author;\n      return;\n    }\n\n    try {\n      const { quote, author } = await api.getQuote();\n\n      document.getElementById('quote-text').textContent = quote;\n      document.getElementById('quote-author').textContent = author;\n\n      localStorage.setItem(\n        'dailyQuote',\n        JSON.stringify({ quote, author, date: today })\n      );\n    } catch (err) {\n      console.error('Error loading quote:', err);\n\n      document.getElementById('quote-text').textContent = QUOTE_PLACEHOLDER;\n      document.getElementById('quote-author').textContent = AUTHOR_PLACEHOLDER;\n    }\n  });\n};\n\nexport default quote;\n","const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport function createCategoryCardMarkup(item, filterName) {\n  const { name, imgURL } = item;\n  // let ImgUrl = imgURL;\n  // const title = name.charAt(0).toUpperCase() + name.slice(1);\n\n  // if (typeof imgURL === 'string' && !imgURL.startsWith('http')) {\n  //   const IMAGE_BASE_URL = 'https://ftp.goit.study';\n  //   ImgUrl = IMAGE_BASE_URL + imgURL;\n  // }\n\n  // let filterDisplay =\n  //   filterType === 'bodypart'\n  //     ? 'Body parts'\n  //     : filterType.charAt(0).toUpperCase() + filterType.slice(1);\n\n  return `<li class=\"categories-item\">\n            <button\n               class=\"category-card\"\n               data-name=\"${name}\"\n               aria-label=\"Category ${name}\">\n\n                <div class=\"card-image-wrapper\">\n                    <img src=\"${imgURL}\" alt=\"${name}\">\n                    <div class=\"card-overlay\"></div>\n                </div>\n\n                <div class=\"card-content\">\n                    <h3 class=\"category-title\">${name}</h3>\n                    <p class='category-filter'>${filterName}</p>\n                </div>\n            </button>\n        </li>`;\n}\n\n\n\n\n\nexport async function loadAndRenderCategories(\n  filterType = 'muscles',\n  categoriesContainer\n) {\n  const page = 1;\n  const limit = 12;\n  const url = `${BASE_URL}/filters?page=${page}&limit=${limit}`;\n  console.log(`[FETCH] Виконується запит за URL: ${url}`);\n\n  try {\n    if (!categoriesContainer) {\n      console.error(\n        '[ERROR] categoriesContainer is undefined. Rendering stopped.'\n      );\n      return;\n    }\n\n    categoriesContainer.innerHTML = '<p class=\"loading-message\">Loading...</p>';\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(`Error: ${response.status}. Can't load categories.`);\n    }\n\n    const data = await response.json();\n    const categories = Array.isArray(data) ? data : data.results;\n\n    if (!Array.isArray(categories) || categories.length === 0) {\n      categoriesContainer.innerHTML =\n        '<p class=\"error-message\">No Category found.</p>';\n      return;\n    }\n\n    const markup = categories\n      .map(category => createCategoryCardMarkup(category, filterType))\n      .join('');\n\n    categoriesContainer.innerHTML = markup;\n    console.log(\n      `[SUCCESS] Успішно відмальовано ${categories.length} категорій.`\n    );\n  } catch (error) {\n    const displayError =\n      error instanceof Error ? error.message : 'Невідома помилка';\n    console.error('[ERROR] Виникла несподівана помилка:', displayError);\n    if (categoriesContainer) {\n      categoriesContainer.innerHTML = `<p class=\"error-message\">Error in loading: ${displayError}</p>`;\n    }\n  }\n}\n\n// document.addEventListener('DOMContentLoaded', () => {\n//   const container = document.getElementById('categories-container');\n//   if (container) {\n//     loadAndRenderCategories('muscles', container);\n//   }\n// });\n","export function renderExerciseCard(payload) {\n  const { id, isHomePage, rating, name, burnedCalories, time, bodyPart, target } =\n    payload;\n  return `\n  <li class=\"exercise-card\" data-id=\"${id}\">\n    <div class=\"exercise-card__header\">\n      <div class=\"exercise-card__workout-and-rating\">\n        <div class=\"exercise-card__workout\">\n          <span class=\"exercise-card__workout__text\">WORKOUT</span>\n        </div>\n        ${getRatingOrTrashIcon(isHomePage, rating)}\n      </div>\n      <button class=\"exercise-card__start\">\n        <span class=\"exercise-card__start__text\">Start</span>\n        <svg class=\"exercise-card__start__icon\" width=\"16\" height=\"16\">\n          <use href=\"./img/icons.svg#icon-arrow-black\"></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"exercise-card__body\">\n      <div class=\"exercise-card__icon-runner__container\">\n        <svg class=\"exercise-card__icon-runner\" width=\"16\" height=\"16\">\n          <use href=\"./img/icons.svg#icon-runner\"></use>\n        </svg>\n      </div>\n      <p class=\"exercise-card__title\">\n        ${name}\n      </p>\n    </div>\n    <ul class=\"exercise-card__footer__list\">\n      <li class=\"exercise-card__footer__item\">\n        <span\n          class=\"exercise-card__footer__text exercise-card__footer__text__key\"\n          >Burned calories:</span\n        ><span\n          class=\"exercise-card__footer__text exercise-card__footer__text__value\"\n          >${burnedCalories} / ${time} min</span\n        >\n      </li>\n      <li class=\"exercise-card__footer__item\">\n        <span\n          class=\"exercise-card__footer__text exercise-card__footer__text__key\"\n          >Body part:</span\n        ><span\n          class=\"exercise-card__footer__text exercise-card__footer__text__value\"\n          >${bodyPart}</span\n        >\n      </li>\n      <li class=\"exercise-card__footer__item\">\n        <span\n          class=\"exercise-card__footer__text exercise-card__footer__text__key\"\n          >Target:</span\n        ><span\n          class=\"exercise-card__footer__text exercise-card__footer__text__value\"\n          >${target}</span\n        >\n      </li>\n    </ul>\n  </li>\n  `;\n}\n\nfunction getRatingOrTrashIcon(isHomePage, rating) {\n  return isHomePage\n    ? `<div class=\"exercise-card__rating\">\n          <span class=\"exercise-card__rating__number\">${rating}</span>\n          <svg width=\"13\" height=\"13\">\n            <use fill=\"#EEA10C\" href=\"./img/icons.svg#icon-star\"></use>\n          </svg>\n        </div>`\n    : `<svg class=\"exercise-card__trash-icon\" width=\"16\" height=\"16\">\n          <use href=\"./img/icons.svg#icon-trash\"></use>\n        </svg>`;\n}\n","import { api } from '../api/api.js';\nimport {\n  loadAndRenderCategories,\n  createCategoryCardMarkup,\n} from './category-template.js';\nimport { renderExerciseCard } from './exercise-card.js';\n\nconst filterPanel = () => {\n  const filtersBlock = document.getElementById('filters');\n  const filtersGrid = document.getElementById('filtersGrid');\n  const selectedSubcategoryEl = document.getElementById('selectedSubcategory');\n  const searchContainer = document.getElementById('searchContainer');\n  const searchInput = document.getElementById('searchInput');\n  const searchIcon = document.querySelector('.search-icon');\n  const exercisesTitle = document.querySelector('.exercises-title');\n\n  let currentFilter = 'Muscles';\n  let allFilterItems = [];\n  let currentExercises = [];\n  let currentSubcategory = '';\n\n    // сразу рисуем категории Muscles\n  loadAndRenderCategories(currentFilter.toLowerCase(), filtersGrid);\n\n\n  function capitalize(str) {\n    if (!str) return '';\n    return str[0].toUpperCase() + str.slice(1);\n  }\n\n  function setActiveButton(activeBtn) {\n    document\n      .querySelectorAll('.filter-btn')\n      .forEach(btn => btn.classList.remove('filter-btn--active'));\n    activeBtn.classList.add('filter-btn--active');\n  }\n\n  async function loadFilterCards(filterName) {\n    // console.log(filterName);\n    try {\n      const data = await api.getFiltersOfExercises({\n        filter: filterName,\n        page: 1,\n        limit: 12,\n      });\n\n      allFilterItems = (await data.results) || [];\n\n      renderFilterCards(await allFilterItems, filterName);\n    } catch (err) {\n      console.error('Error loading filters:', err);\n      filtersGrid.innerHTML = '<p>Не вдалося завантажити фільтри</p>';\n    }\n  }\n\n  ///////!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  function renderFilterCards(items, filterName) {\n    if (!items.length) {\n      filtersGrid.innerHTML = '<p>Немає категорій</p>';\n      return;\n    }\n\n    // filtersGrid.innerHTML = items\n    //   .map(\n    //     item => `\n    //   <article class=\"filter-card\" data-name=\"${item.name}\">\n    //     <div class=\"filter-card-name\">${item.name}</div>\n    //   </article>\n    // `\n    //   )\n    //   .join('');\n\n    filtersGrid.innerHTML = items\n      .map(item => createCategoryCardMarkup(item, filterName))\n      .join('');\n  }\n\n  ///////////////\n\n  async function loadExercisesForSubcategory(filterType, subcategoryName) {\n    const payload = {\n      page: 1,\n      limit: 12,\n    };\n\n    if (filterType === 'Body parts') {\n      payload.bodypart = subcategoryName;\n    } else if (filterType === 'Muscles') {\n      payload.target = subcategoryName;\n    } else if (filterType === 'Equipment') {\n      payload.equipment = subcategoryName;\n    }\n\n    try {\n      const data = await api.getExercisesByFilters(payload);\n      currentExercises = (await data.results) || [];\n      renderExercises(currentExercises);\n    } catch (error) {\n      console.error('Error loading exercises:', error);\n      filtersGrid.innerHTML = '<p>Не вдалося завантажити вправи</p>';\n    }\n  }\n\n  //////\n  function renderExercises(exercises) {\n    if (!exercises.length) {\n      filtersGrid.innerHTML = '<p>Немає вправ для цієї категорії</p>';\n      return;\n    }\n\n    filtersGrid.innerHTML = exercises\n      .map(ex => renderExerciseCard({ isHomePage: true, id: ex._id, ...ex }))\n      .join('');\n  }\n\n  function runExercisesSearch() {\n    const query = searchInput.value.toLowerCase().trim();\n\n    if (!query) {\n      renderExercises(currentExercises);\n      return;\n    }\n\n    const filtered = currentExercises.filter(ex =>\n      (ex.name || '').toLowerCase().includes(query)\n    );\n\n    renderExercises(filtered);\n  }\n\n  filtersBlock.addEventListener('click', async event => {\n    const btn = event.target.closest('.filter-btn');\n    if (!btn) return;\n\n    const newFilter = btn.dataset.filter;\n    if (!newFilter || newFilter === currentFilter) return;\n\n    currentFilter = newFilter;\n    setActiveButton(btn);\n\n    selectedSubcategoryEl.textContent = '';\n    currentSubcategory = '';\n    searchContainer.hidden = true;\n    searchInput.value = '';\n    currentExercises = [];\n\n    loadFilterCards(currentFilter);\n  });\n\n  filtersGrid.addEventListener('click', async event => {\n    const card = event.target.closest('.category-card');\n    if (!card) return;\n\n    const name = card.dataset.name; // \"waist\"\n    const prettyName = capitalize(name); // \"Waist\"\n\n    currentSubcategory = name;\n\n    selectedSubcategoryEl.textContent = prettyName;\n\n    searchContainer.hidden = false;\n    searchInput.value = '';\n\n    await loadExercisesForSubcategory(currentFilter, currentSubcategory);\n  });\n\n  searchInput.addEventListener('input', runExercisesSearch);\n\n  searchInput.addEventListener('keydown', event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      runExercisesSearch();\n    }\n  });\n\n  if (searchIcon) {\n    searchIcon.addEventListener('click', runExercisesSearch);\n  }\n\n  document.addEventListener('DOMContentLoaded', () => {\n    loadAndRenderCategories(currentFilter.toLowerCase(), filtersGrid);\n  });\n\n  exercisesTitle.addEventListener('click', async () => {\n    currentFilter = 'muscles';\n\n    document\n      .querySelectorAll('.filter-btn')\n      .forEach(btn => btn.classList.remove('filter-btn--active'));\n\n    const musclesBtn = document.querySelector('[data-filter=\"Muscles\"]');\n    if (musclesBtn) musclesBtn.classList.add('filter-btn--active');\n\n    currentSubcategory = '';\n    selectedSubcategoryEl.textContent = '';\n\n    searchInput.value = '';\n    searchContainer.hidden = true;\n\n    currentExercises = [];\n\n    await loadFilterCards('muscles');\n  });\n};\n\nexport default filterPanel;\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst subscribe = () => {\n  axios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\n  const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  function showToast(type, message) {\n    iziToast.show({\n      title: type === 'success' ? 'Success' : 'Error',\n      message,\n      position: 'center',\n      color: type === 'success' ? 'green' : 'red',\n      timeout: 4000,\n      pauseOnHover: true,\n      closeOnClick: true,\n    });\n  }\n\n  async function createSubscription(email) {\n    try {\n      const { data } = await axios.post('/subscription', { email });\n      showToast('success', data.message || 'Subscription created!');\n    } catch (error) {\n      if (error.response?.status === 409) {\n        showToast('error', 'You are already subscribed!');\n      } else {\n        const msg =\n          error.response?.data?.message ||\n          error.message ||\n          'Something went wrong!';\n        showToast('error', msg);\n      }\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', () => {\n    const form = document.querySelector('.footer-subscribe-form');\n    const input = form.querySelector('.footer-subscribe-input');\n\n    form.addEventListener('submit', async event => {\n      event.preventDefault();\n\n      const emailTrim = input.value.trim();\n\n      if (!emailPattern.test(emailTrim)) {\n        showToast(\n          'error',\n          'Please enter a valid email address. Example - info@goit.ua'\n        );\n        return;\n      }\n\n      await createSubscription(emailTrim);\n\n      input.value = '';\n    });\n  });\n};\n\nexport default subscribe;\n","const toTopBtn = () => {\n  const toTopBtn = document.querySelector('.to-top-btn');\n\n  if (toTopBtn) toTopBtn.addEventListener('click', scrollToTop);\n\n  window.addEventListener('scroll', showBtn);\n\n  function scrollToTop() {\n    document.body.scroll({ behavior: 'smooth', top: 0 });\n    document.documentElement.scroll({ behavior: 'smooth', top: 0 });\n  }\n\n  function showBtn() {\n    if (\n      document.body.scrollTop > 20 ||\n      document.documentElement.scrollTop > 20\n    ) {\n      toTopBtn.style.display = 'flex';\n    } else {\n      toTopBtn.style.display = 'none';\n    }\n  }\n};\n\nexport default toTopBtn;\n","import { renderExerciseCard } from './exercise-card.js';\n\nfunction favorites() {\n  const favorites = localStorage.getItem('favorites');\n\n  if (!favorites) {\n    return;\n  }\n\n  let parsedFavorites = JSON.parse(favorites);\n\n  const favoritesClearMessage = document.querySelector('.favorites-list-clear');\n  const favoritesList = document.querySelector('.favorites-list');\n  const paginationContainer = document.querySelector('.favorites-pagination-block');\n\n  let currentPage = 1;\n  const itemsPerPage = 10;\n\n  const renderList = () => {\n    if (parsedFavorites.length === 0) {\n      favoritesList.innerHTML = '';\n      paginationContainer.innerHTML = '';\n      if (favoritesClearMessage) favoritesClearMessage.style.display = 'block';\n      return;\n    } else {\n      if (favoritesClearMessage) favoritesClearMessage.style.display = 'none';\n    }\n\n    let pageData;\n\n    if (window.innerWidth >= 1440) {\n      pageData = parsedFavorites;\n      paginationContainer.innerHTML = '';\n    }\n    else {\n      const totalPages = Math.ceil(parsedFavorites.length / itemsPerPage);\n\n      if (currentPage > totalPages) currentPage = totalPages || 1;\n\n      const startIndex = (currentPage - 1) * itemsPerPage;\n      const endIndex = startIndex + itemsPerPage;\n      pageData = parsedFavorites.slice(startIndex, endIndex);\n\n      renderPagination(totalPages);\n    }\n\n    const layout = pageData.map((favorite) => {\n      favorite.isHomePage = false;\n      favorite.id = favorite._id;\n      return renderExerciseCard(favorite);\n    });\n    favoritesList.innerHTML = layout.join('');\n  };\n\n  const renderPagination = (totalPages) => {\n    if (totalPages <= 1) {\n      paginationContainer.innerHTML = '';\n      return;\n    }\n\n    let paginationHTML = '';\n    for (let i = 1; i <= totalPages; i++) {\n      const isActive = i === currentPage ? 'active' : '';\n      paginationHTML += `<button class=\"favorites-pagination-btn ${isActive}\" type=\"button\" data-page=\"${i}\">${i}</button>`;\n    }\n    paginationContainer.innerHTML = paginationHTML;\n  };\n\n  paginationContainer.addEventListener('click', (event) => {\n    if (event.target.classList.contains('favorites-pagination-btn')) {\n      const clickedPage = Number(event.target.dataset.page);\n      if (clickedPage !== currentPage) {\n        currentPage = clickedPage;\n        renderList();\n        favoritesList.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }\n    }\n  });\n\n  favoritesList.addEventListener('click', (event) => {\n    const trashIcon = event.target.closest('.exercise-card__trash-icon');\n\n    if (trashIcon) {\n      const cardItem = trashIcon.closest('.exercise-card');\n      const cardId = cardItem.dataset.id;\n\n      parsedFavorites = parsedFavorites.filter((item) => String(item._id) !== String(cardId));\n      localStorage.setItem('favorites', JSON.stringify(parsedFavorites));\n\n      renderList();\n    }\n  });\n\n  window.addEventListener('resize', renderList);\n\n  renderList();\n}\n\nexport default favorites;","// Page loader functionality\n\nexport function initPageLoader() {\n  const loader = document.querySelector('.loader-page');\n\n  if (!loader) return;\n\n  // Hide loader when page is fully loaded\n  window.addEventListener('load', () => {\n    setTimeout(() => {\n      loader.classList.add('hidden');\n\n      // Remove from DOM after animation completes\n      setTimeout(() => {\n        loader.remove();\n      }, 500);\n    }, 500); // Show loader for at least 500ms\n  });\n}\n","import { api } from '../api/api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconsole.log('iziToast >>>', iziToast);\n\n// Элементы\nconst searchInput = document.getElementById('searchInput');\nconst searchBtn = document.querySelector('.search-btn');\nconst clearSearchBtn = document.querySelector('.search-clear-btn');\nconst filtersGrid = document.getElementById('filtersGrid');\nconst selectedSubcategoryEl = document.getElementById('selectedSubcategory');\n\n// ==================== ВСПОМОГАТЕЛЬНОЕ ====================\n\n// Активная вкладка (Muscles / Body parts / Equipment)\nfunction getCurrentFilter() {\n  const btn = document.querySelector('.filter-btn--active');\n  return btn ? btn.dataset.filter : 'Muscles';\n}\n\n// Маппинг вкладки → имени параметра API\n// Пример запроса, который нам нужен:\n// /api/exercises?muscles=abductors&keyword=3&page=1&limit=10\nfunction mapFilterToKey(filterName) {\n  switch (filterName) {\n    case 'Muscles':\n      return 'muscles';\n    case 'Body parts':\n      return 'bodypart';\n    case 'Equipment':\n      return 'equipment';\n    default:\n      return 'muscles';\n  }\n}\n\n// Рендер карточек упражнений\nfunction renderExercises(exercises = []) {\n  if (!exercises.length) {\n    filtersGrid.innerHTML = '<p>Немає вправ для цієї категорії</p>';\n    return;\n  }\n\n  filtersGrid.innerHTML = exercises\n    .map(\n      ex => `\n      <article class=\"exercise-card\">\n        <h3 class=\"exercise-card-title\">${ex.name}</h3>\n        <p class=\"exercise-card-meta\">\n          ${ex.bodyPart || ''}${ex.bodyPart && ex.target ? ' · ' : ''}${\n        ex.target || ''\n      }\n        </p>\n      </article>\n    `\n    )\n    .join('');\n}\n\n// ближайший .search-wrapper для класса has-text\nfunction getSearchWrapper() {\n  return searchInput ? searchInput.closest('.search-wrapper') : null;\n}\n\n// показать / скрыть крестик через класс .has-text\nfunction updateClearBtnState() {\n  const wrapper = getSearchWrapper();\n  if (!wrapper) return;\n\n  if (searchInput.value.trim()) {\n    wrapper.classList.add('has-text');\n  } else {\n    wrapper.classList.remove('has-text');\n  }\n}\n\n// ==================== ЗАГРУЗКА БЕЗ KEYWORD ====================\n\n// грузим все упражнения по текущей подкатегории (без keyword)\nasync function loadExercisesForCurrentCategory() {\n  const subcategory = selectedSubcategoryEl.textContent.trim().toLowerCase();\n  if (!subcategory) {\n    // подкатегория не выбрана — просто ничего не делаем\n    return;\n  }\n\n  const filterName = getCurrentFilter();\n  const filterKey = mapFilterToKey(filterName);\n\n  filtersGrid.innerHTML = '<p>Loading...</p>';\n\n  try {\n    const payload = {\n      page: 1,\n      limit: 12,\n    };\n    payload[filterKey] = subcategory;\n\n    const data = await api.getExercisesByFilters(payload);\n    const items = Array.isArray(data.results) ? data.results : [];\n\n    renderExercises(items);\n  } catch (error) {\n    console.error(error);\n    filtersGrid.innerHTML = '<p>Не вдалося завантажити вправи</p>';\n    iziToast.error({\n      title: 'Error',\n      message: 'Не вдалося завантажити вправи',\n      position: 'topRight',\n    });\n  }\n}\n\n// ==================== ПОИСК ПО API С KEYWORD ====================\n\nasync function runApiSearch() {\n  const keyword = searchInput.value.trim();\n  const subcategory = selectedSubcategoryEl.textContent.trim().toLowerCase();\n  const filterName = getCurrentFilter();\n  const filterKey = mapFilterToKey(filterName);\n\n  updateClearBtnState();\n\n  if (!subcategory) {\n    iziToast.info({\n      title: 'Select category',\n      message: 'Спочатку виберіть підкатегорію',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  // Пустая строка → просто показываем все упражнения категории\n  if (!keyword) {\n    await loadExercisesForCurrentCategory();\n    return;\n  }\n\n  filtersGrid.innerHTML = '<p>Loading...</p>';\n\n  try {\n    const payload = {\n      page: 1,\n      limit: 12,\n      keyword,\n    };\n    payload[filterKey] = subcategory;\n\n    const data = await api.getExercisesByFilters(payload);\n    const items = Array.isArray(data.results) ? data.results : [];\n\n    if (!items.length) {\n      filtersGrid.innerHTML =\n        '<p>По цьому ключовому слову немає результатів.</p>';\n      return;\n    }\n\n    renderExercises(items);\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Не вдалося виконати пошук',\n      position: 'topRight',\n    });\n  }\n}\n\n// ==================== ОБРАБОТЧИКИ ====================\n\nif (searchInput) {\n  // input: нужен и для Backspace, и для Ctrl+X и т.п.\n  searchInput.addEventListener(\n    'input',\n    async e => {\n      e.stopImmediatePropagation(); \n      updateClearBtnState();\n\n      // если строка стала пустой → сразу показываем все упражнения\n      if (!searchInput.value.trim()) {\n        await loadExercisesForCurrentCategory();\n      }\n    },\n    true\n  );\n\n  // Enter → поиск по API\n  searchInput.addEventListener(\n    'keydown',\n    e => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        runApiSearch();\n      }\n    },\n    true\n  );\n}\n\nif (searchBtn) {\n  // Клик по лупе → поиск по API\n  searchBtn.addEventListener(\n    'click',\n    e => {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      runApiSearch();\n    },\n    true\n  );\n}\n\nif (clearSearchBtn && searchInput) {\n  // Клик по крестику → очистка + все упражнения\n  clearSearchBtn.addEventListener(\n    'click',\n    async e => {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      searchInput.value = '';\n      updateClearBtnState();\n      await loadExercisesForCurrentCategory();\n      searchInput.focus();\n    },\n    true\n  );\n}\n","// ...\nimport header from './js/components/header.js';\nimport quote from './js/components/quote.js';\nimport filterPanel from './js/components/filter-panel.js';\nimport subscribe from './js/components/subscribe';\nimport toTopBtn from './js/utilities/to-top-btn.js';\nimport favorites from './js/components/favorites.js';\nimport { initPageLoader } from './js/utilities/page-loader.js';\nimport './js/components/search.js'\n\n// make a switch for the pages: home and favorties\n\nconst init = () => {\n  // INIT PAGE LOADER\n  initPageLoader();\n\n  // INIT PAGE-SPECIFIC COMPONENTS\n  const page = document.body.dataset.page;\n  if (page === 'home') {\n    filterPanel(); // filter panel on home page\n  } else if (page === 'favorites') {\n    console.log('PAGE FAVORITES');\n  }\n\n  // INIT COMMON COMPONENTS\n  header();\n  quote();\n  toTopBtn();\n  subscribe();\n  favorites();\n};\n\ninit();"],"names":["header","mobileMenuBtn","mobileMenu","navDesktop","headerSocialDesktop","menuLinks","mobileBreakpoint","openMenu","closeMenu","showMobileMenu","hideMobileMenu","updateActiveNav","isOnFavorites","_a","_b","_c","_d","handleBreakpointChange","e","link","Api","baseURL","__privateAdd","_Api_instances","__publicField","axios","payload","page","limit","rest","params","__privateMethod","filterUndefined_fn","cleanNumber_fn","error","id","cleanString_fn","filter","response","email","obj","k","v","_","value","trimmed","defaultValue","num","api","quote","QUOTE_PLACEHOLDER","AUTHOR_PLACEHOLDER","today","saved","author","err","BASE_URL","createCategoryCardMarkup","item","filterName","name","imgURL","loadAndRenderCategories","filterType","categoriesContainer","url","data","categories","markup","category","displayError","renderExerciseCard","isHomePage","rating","burnedCalories","time","bodyPart","target","getRatingOrTrashIcon","filterPanel","filtersBlock","filtersGrid","selectedSubcategoryEl","searchContainer","searchInput","searchIcon","exercisesTitle","currentFilter","allFilterItems","currentExercises","currentSubcategory","capitalize","str","setActiveButton","activeBtn","btn","loadFilterCards","renderFilterCards","items","loadExercisesForSubcategory","subcategoryName","renderExercises","exercises","ex","runExercisesSearch","query","filtered","event","newFilter","card","prettyName","musclesBtn","subscribe","emailPattern","showToast","type","message","iziToast","createSubscription","msg","form","input","emailTrim","toTopBtn","scrollToTop","showBtn","favorites","parsedFavorites","favoritesClearMessage","favoritesList","paginationContainer","currentPage","itemsPerPage","renderList","pageData","totalPages","startIndex","endIndex","renderPagination","layout","favorite","paginationHTML","i","clickedPage","trashIcon","cardId","initPageLoader","loader","searchBtn","clearSearchBtn","getCurrentFilter","mapFilterToKey","getSearchWrapper","updateClearBtnState","wrapper","loadExercisesForCurrentCategory","subcategory","filterKey","runApiSearch","keyword","init"],"mappings":"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"}