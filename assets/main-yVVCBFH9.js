var R=Object.defineProperty;var q=t=>{throw TypeError(t)};var j=(t,e,r)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var b=(t,e,r)=>j(t,typeof e!="symbol"?e+"":e,r),G=(t,e,r)=>e.has(t)||q("Cannot "+r);var I=(t,e,r)=>e.has(t)?q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var c=(t,e,r)=>(G(t,e,"access private method"),r);import{a as A,i as N}from"./vendor-BcLWANst.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const u=document.querySelector("#mobile-menu-btn"),v=document.querySelector("#header-mobile-menu"),F=document.querySelector(".header-nav"),U=document.querySelector(".header-socials"),z=v.querySelectorAll(".header-socials-link"),$=globalThis.matchMedia("(max-width: 768px)");function Q(){u.setAttribute("aria-expanded","true"),v.dataset.expanded="true"}function L(){u.setAttribute("aria-expanded","false"),v.dataset.expanded="false"}function Z(){u.classList.remove("visually-hidden"),F.classList.add("visually-hidden"),U.classList.add("visually-hidden")}function K(){u.classList.add("visually-hidden"),F.classList.remove("visually-hidden"),U.classList.remove("visually-hidden"),L()}function W(){var e,r,s,n;const t=globalThis.location.pathname.includes("favorites");(e=document.querySelector("#nav-desktop-home"))==null||e.classList.toggle("nav-active",!t),(r=document.querySelector("#nav-desktop-favorites"))==null||r.classList.toggle("nav-active",t),(s=document.querySelector("#nav-mobile-home"))==null||s.classList.toggle("nav-active",!t),(n=document.querySelector("#nav-mobile-favorites"))==null||n.classList.toggle("nav-active",t)}function k(t){t.matches?Z():K()}u.addEventListener("click",()=>{u.getAttribute("aria-expanded")==="true"?L():Q()});z.forEach(t=>{t.addEventListener("click",L)});document.addEventListener("keydown",t=>{t.key==="Escape"&&v.getAttribute("aria-expanded")==="true"&&L()});document.addEventListener("DOMContentLoaded",()=>{W()});k($);$.addEventListener("change",k);var i,D,h,f;class Y{constructor(e){I(this,i);b(this,"PAGE_DEFAULT",1);b(this,"LIMIT_DEFAULT",10);this.client=A.create({baseURL:e,headers:{"Content-Type":"application/json"}})}async getExercisesByFilters(e={}){const{page:r,limit:s,...n}=e,o={...c(this,i,D).call(this,n),page:c(this,i,f).call(this,r,this.PAGE_DEFAULT),limit:c(this,i,f).call(this,s,this.LIMIT_DEFAULT)};try{return(await this.client.get("exercises",{params:o})).data}catch(a){throw new Error(a.response.data.message)}}async getExercisesById(e=""){if(!c(this,i,h).call(this,e))return{};try{return(await this.client.get(`exercises/${e}`)).data}catch(s){throw new Error(s.response.data.message)}}async getFiltersOfExercises(e={}){const{filter:r,page:s,limit:n}=e,o={filter:c(this,i,h).call(this,r),page:c(this,i,f).call(this,s,this.PAGE_DEFAULT),limit:c(this,i,f).call(this,n,this.LIMIT_DEFAULT)};try{return(await this.client.get("filters",{params:o})).data}catch(a){throw new Error(a.response.data.message)}}async getQuote(){return(await this.client.get("quote")).data}async subscribe(e=""){try{return(await this.client.post("subscription",{email:e})).data}catch(r){throw new Error(r.response.data.message)}}}i=new WeakSet,D=function(e={}){return Object.fromEntries(Object.entries(e).map(([r,s])=>[r,c(this,i,h).call(this,s)]).filter(([r,s])=>s!==void 0))},h=function(e=""){if(typeof e!="string")return;const r=e.trim();return r.length?r:void 0},f=function(e,r){const s=Number(e);return Number.isFinite(s)?s:r};const M=new Y("https://your-energy.b.goit.study/api/"),J="A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.",V="Tom Brady";document.addEventListener("DOMContentLoaded",async()=>{try{const{quote:t,author:e}=await M.getQuote();document.getElementById("quote-text").textContent=t,document.getElementById("quote-author").textContent=e}catch(t){console.error("Error loading quote:",t),document.getElementById("quote-text").textContent=J,document.getElementById("quote-author").textContent=V}});const X="https://your-energy.b.goit.study/api";//!TEMPLATE
function ee(t,e){const{name:r,imgURL:s}=t;let n=s;const o=r.charAt(0).toUpperCase()+r.slice(1);typeof s=="string"&&!s.startsWith("http")&&(n="https://ftp.goit.study"+s);let a=e==="bodypart"?"Body parts":e.charAt(0).toUpperCase()+e.slice(1);return`<li class="categories-item">
            <a href="#"
               class="category-card"
               data-name="${o}"
               data-filter="${e}"
               aria-label="Category ${o}">

                <div class="card-image-wrapper">
                    <img src="${n}" alt="${o}">
                    <div class="card-overlay"></div>
                </div>

                <div class="card-content">
                    <h3 class="category-title">${o}</h3>
                    <p class="category-filter">${a}</p>
                </div>
            </a>
        </li>`}//!TEMPLATE
async function H(t="muscles",e){const r=t.charAt(0).toUpperCase()+t.slice(1),s=`${X}/filters?filter=${r}`;console.log(`[FETCH] Виконується запит за URL: ${s}`);try{e&&(e.innerHTML='<p class="loading-message">Loading...</p>');const n=await fetch(s);if(!n.ok)throw new Error(`Error: ${n.status}. Can't load categories.`);const o=await n.json(),a=Array.isArray(o)?o:o.results;if(e){if(!Array.isArray(a)||a.length===0){e.innerHTML='<p class="error-message">No Category found.</p>';return}const T=a.map(P=>ee(P,t)).join("");e.innerHTML=T,console.log(`[SUCCESS] Успішно відмальовано ${a.length} категорій.`)}}catch(n){const o=n instanceof Error?n.message:"Невідома помилка";console.error("[ERROR] Виникла несподівана помилка:",o),e&&(e.innerHTML=`<p class="error-message">Error in loading: ${o}</p>`)}}//!TEMPLATE
document.addEventListener("DOMContentLoaded",()=>{H("muscles")});//!TEMPLATE
const te=document.getElementById("filters"),l=document.getElementById("filtersGrid"),S=document.getElementById("selectedSubcategory"),x=document.getElementById("searchContainer"),p=document.getElementById("searchInput"),B=document.querySelector(".search-icon"),re=document.querySelector(".exercises-title");let d="Muscles",O=[],m=[],g="";function se(t){return t?t[0].toUpperCase()+t.slice(1):""}function ne(t){document.querySelectorAll(".filter-btn").forEach(e=>e.classList.remove("filter-btn--active")),t.classList.add("filter-btn--active")}async function _(t){try{O=(await M.getFiltersOfExercises({filter:t,page:1,limit:12})).results||[],oe(O)}catch(e){console.error("Error loading filters:",e),l.innerHTML="<p>Не вдалося завантажити фільтри</p>"}}function oe(t){if(!t.length){l.innerHTML="<p>Немає категорій</p>";return}l.innerHTML=t.map(e=>`
      <article class="filter-card" data-name="${e.name}">
        <div class="filter-card-name">${e.name}</div>
      </article>
    `).join("")}async function ae(t,e){const r={page:1,limit:12};t==="Body parts"?r.bodyPart=e:t==="Muscles"?r.target=e:t==="Equipment"&&(r.equipment=e);try{m=(await M.getExercisesByFilters(r)).results||[],w(m)}catch(s){console.error("Error loading exercises:",s),l.innerHTML="<p>Не вдалося завантажити вправи</p>"}}function w(t){if(!t.length){l.innerHTML="<p>Немає вправ для цієї категорії</p>";return}l.innerHTML=t.map(e=>`
      <article class="exercise-card">
        <h3 class="exercise-card-title">${e.name}</h3>
        <p class="exercise-card-meta">
          ${e.bodyPart||""}${e.bodyPart&&e.target?" · ":""}${e.target||""}
        </p>
      </article>
    `).join("")}function C(){const t=p.value.toLowerCase().trim();if(!t){w(m);return}const e=m.filter(r=>(r.name||"").toLowerCase().includes(t));w(e)}te.addEventListener("click",async t=>{const e=t.target.closest(".filter-btn");if(!e)return;const r=e.dataset.filter;!r||r===d||(d=r,ne(e),S.textContent="",g="",x.hidden=!0,p.value="",m=[],console.log(d.toLowerCase()),await H(d.toLowerCase(),l))});l.addEventListener("click",async t=>{const e=t.target.closest(".filter-card");if(!e)return;const r=e.dataset.name,s=se(r);g=r,S.textContent=s,x.hidden=!1,p.value="",await ae(d,g)});p.addEventListener("input",C);p.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),C())});B&&B.addEventListener("click",C);document.addEventListener("DOMContentLoaded",()=>{_(d)});re.addEventListener("click",async()=>{d="Muscles",document.querySelectorAll(".filter-btn").forEach(e=>e.classList.remove("filter-btn--active"));const t=document.querySelector('[data-filter="Muscles"]');t&&t.classList.add("filter-btn--active"),g="",S.textContent="",p.value="",x.hidden=!0,m=[],await _("Muscles")});A.defaults.baseURL="https://your-energy.b.goit.study/api";const ie=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function y(t,e){N.show({title:t==="success"?"Success":"Error",message:e,position:"center",color:t==="success"?"green":"red",timeout:4e3,pauseOnHover:!0,closeOnClick:!0})}async function ce(t){var e,r,s;try{const{data:n}=await A.post("/subscription",{email:t});y("success",n.message||"Subscription created!")}catch(n){if(((e=n.response)==null?void 0:e.status)===409)y("error","You are already subscribed!");else{const o=((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.message)||n.message||"Something went wrong!";y("error",o)}}}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".footer-subscribe-form"),e=t.querySelector(".footer-subscribe-input");t.addEventListener("submit",async r=>{r.preventDefault();const s=e.value.trim();if(!ie.test(s)){y("error","Please enter a valid email address. Example - info@goit.ua");return}await ce(s),e.value=""})});const E=document.querySelector(".to-top-btn");E&&E.addEventListener("click",le);window.addEventListener("scroll",de);function le(){document.body.scroll({behavior:"smooth",top:0}),document.documentElement.scroll({behavior:"smooth",top:0})}function de(){document.body.scrollTop>20||document.documentElement.scrollTop>20?E.style.display="flex":E.style.display="none"}
//# sourceMappingURL=main-yVVCBFH9.js.map
